<?xml version="1.0" encoding="utf-8" ?>
<elements>
    <info>
        <name></name>
        <update version="2.2.6">
            <file name="artificer-expandedoptions.xml" url="https://raw.githubusercontent.com/Shadowlinks/KibblesTasty-elements/main/artificer-expandedoptions.xml" />
        </update>
    </info>
    <!--UPDATE 2.2-->

    <!--Class Features-->

    <element name="Shield Proficiency" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_SHIELD_PROFICIENCY">
        <supports>Specialization Upgrade, Gadgetsmith, Fleshsmith, Potionsmith, Thundersmith, Warsmith, Cursesmith, Runesmith, Infusionsmith, Relicsmith</supports>
        <requirements>!ID_PROFICIENCY_ARMOR_PROFICIENCY_SHIELDS|ID_KIBBLESTASTY_INVENTOR_UPGRADE_SHIELD_PROFICIENCY</requirements>
        <description>
            <p>You gain proficiency with shields.</p>
        </description>
        <sheet display="false" />
        <rules>
            <grant type="Proficiency" id="ID_PROFICIENCY_ARMOR_PROFICIENCY_SHIELDS" />
        </rules>
    </element>

    <element name="Tool Proficiency" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_TOOL_PROFICIENCY">
        <supports>Specialization Upgrade, Gadgetsmith, Fleshsmith, Potionsmith, Thundersmith, Warsmith, Cursesmith, Runesmith, Infusionsmith, Relicsmith</supports>
        <description>
            <p>You gain proficiency with a tool of your choice.</p>
        </description>
        <sheet display="false" />
        <rules>
            <select type="Proficiency" name="Tool Proficiency, (Inventor Upgrade)" supports="Artisan tools" />
        </rules>
    </element>

    <append id="ID_KTH_INVENTOR_ARCHETYPE_FEATURE_WARSMITH_WARPLATE_GAUNTLET">
        <supports>Cross Disciplinary Knowledge</supports>
    </append>
    
    <!--SPELLS-->

    <element name="Cruel Puppetry" type="Spell" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_SPELL_CRUEL_PUPPETRY">
        <supports>Occultist</supports>
        <description>
            <p>You attempt to bind a creatures soul to a doll, linking the creature to the doll in a sympathetic link. The target must make a Charisma saving throw. On failure, the creature becomes bound to the doll. On a successful save, the creature is not bound and the spell ends.</p>
            <p class="indent">As part of casting the spell when the creature fails the save, and on subsequent turns using your action until the spell ends, you can perform one of the following actions:</p>
            <ul>
                <li>Hold the doll still, causing the creature to be Restrained until start of your next turn.</li>
                <li>Force the doll to move, causing the creature to move 15 feet in a direction of your choice that it can move.</li>
                <li>Smash the doll, causing it take 4d6 bludgeoning damage.</li>
                <li>Rip the doll in half, ending the spell, destroying the doll, and dealing 4d12 necrotic damage.</li>
            </ul>
            <p class="indent">Each time after the first you use an action to manipulate the doll, after the effect takes place, the creature can repeat the Charisma with disadvantage, ending the effect on a successful save.</p>
            <p class="indent">Once a creature has been targeted by this spell, they cannot be targeted again for 24 hours.</p>
            <p class="indent"><strong><em>At Higher Levels.</em></strong> When cast with a 5th level spell slot or above, the range of the spell becomes unlimited, as long as the target is on the same plane as the caster.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">3</set>
            <set name="school">Necromancy</set>
            <set name="time">1 action</set>
            <set name="range">120 feet</set>
            <set name="duration">Concentration, up to 1 minute</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">true</set>
            <set name="materialComponent">a small humanoid doll worth at least 5 gp and something from the target creature (such as blood, hair, or scales) both of which the spell consumes</set>
            <set name="isConcentration">true</set>
            <set name="isRitual">true</set>
        </setters>
    </element>
    
    <element name="Necrotic Rot" type="Spell" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_SPELL_NECROTIC_ROT">
        <supports>Occultist, Warlock</supports>
        <description>
            <p>You touch a creature making a melee spell attack. On hit, you inflict a spreading decay onto that creature. At the start of that creature's turn, it takes 1d4 necrotic damage. If the creature has taken necrotic damage since the end of its last turn, the damage increases to 2d4 necrotic damage. While under the effect of the spell, all healing affects on the target as half as effective unless it is resistant or immune to necrotic damage.</p>
            <p class="indent">At the end of each of its turns, if the target has not taken necrotic damage since the end of its last turn, the target can make Constitution saving throw. On a success, the spell ends on the target.</p>
            <p class="indent"><strong><em>At Higher Levels.</em></strong> When you cast this spell using a spell slot of 2nd level or higher, the necrotic damage taken increases to 1d8, increasing to a maximum of 1d12 when spending a spell slot of 3rd level or higher.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">1</set>
            <set name="school">Evocation</set>
            <set name="time">1 action</set>
            <set name="range">Touch</set>
            <set name="duration">Concentration, up to 1 minute</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">false</set>
            <set name="materialComponent"></set>
            <set name="isConcentration">true</set>
            <set name="isRitual">false</set>
        </setters>
    </element>

    <element name="Possess Corpse" type="Spell" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_SPELL_POSSESS_CORPSE">
        <supports>Occultist</supports>
        <description>
            <p>You target a corpse of a dead humanoid or beast, and temporarily transfer your soul into it. If the corpse has been dead for more than 24 hours, you become a zombie or skeleton (you may become a specialized type of zombie or skeleton based on the corpse at the discretion of your DM, for example a Minotaur Skeleton or Ogre Zombie). Otherwise you become your game Statistics, including mental Ability Scores, are replaced by the Statistics of what the chosen target had in life. It retains its Alignment and Personality. You cannot cast any spells the creature had, and do not get any special abilities unique to that instance of the creature (you become the generic version of that creature has presented in the game Statistics or the closest available option).</p>
            <p class="indent">You cannot target a corpse or become a creature that has a higher CR than your character level or the level of the spell slot this spell is cast with.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">3</set>
            <set name="school">Necromancy</set>
            <set name="time">1 action</set>
            <set name="range">30</set>
            <set name="duration">Concentration, up to 1 minute</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">false</set>
            <set name="materialComponent"></set>
            <set name="isConcentration">true</set>
            <set name="isRitual">false</set>
        </setters>
    </element>

    <element name="Rain of Spiders" type="Spell" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_SPELL_RAIN_OF_SPIDERS">
        <supports>Druid, Occultist, Sorcerer, Warlock, Wizard</supports>
        <description>
            <p>A vertical column of spiders begins to rain down in 20 foot radius, 40 foot high cylinder, centered on a location you specify. A Swarm of Spiders (Monster Manual, pg 334) descends onto each creature within the cylinder.</p>
            <p class="indent">This swarm is considered to be climbing on the target creature and moves with them, even if they leave the affected area, and takes its turn immediately after that creature's turn. A creature can make use its action to attempt to get them off, making a Strength (Athletics) or Dexterity (Acrobatics) check against the spell save DC of the caster.</p>
            <p class="indent">The swarm will attack the creature it fell on if it can, or move to chase them if it has been knocked off of them. Any spiders that remain when the spell ends disappear.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">3</set>
            <set name="school">Conjuration</set>
            <set name="time">1 bonus action</set>
            <set name="range">60 feet</set>
            <set name="duration">Concentration, up to 1 minute</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">true</set>
            <set name="materialComponent">a spider leg</set>
            <set name="isConcentration">true</set>
            <set name="isRitual">false</set>
        </setters>
    </element>
    
    <element name="Dampen Magic" type="Spell" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_SPELL_DAMPEN_MAGIC">
        <supports>Inventor, Wizard</supports>
        <description>
            <p>You touch a magical item or creature, and dampen its magic.</p>
            <p class="indent">If you touched a magical item, make a Spellcasting ability check with a DC equal to 8 + 2 for an common item, +4 for an uncommon item, +6 for a rare item, +8 for a very rare item, +10 for a legendary item, and +12 for an artifact. On a successful check, the item becomes nonmagical for the duration. All divination spells targeting it return that it is a mundane time. At the end of the duration, it becomes a magical item once more.</p>
            <p class="indent">If you touched a creature, it makes a Charisma saving throw, which it may chose to fail. On failure, it has disadvantage on any spell attack rolls and any creature making a save against its spells has advantage, but it has advantage on any saving throws against magic. It can repeat its saving throw at the end of its turns if it wishes to end the effect.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">3</set>
            <set name="school">Abjuration</set>
            <set name="time">1 action</set>
            <set name="range">Touch</set>
            <set name="duration">Concentration, up to 1 hour</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">false</set>
            <set name="materialComponent"></set>
            <set name="isConcentration">true</set>
            <set name="isRitual">false</set>
        </setters>
    </element>
    <element name="Runic Bindings" type="Spell" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_SPELL_RUNIC_BINDINGS">
        <supports>Inventor, Wizard</supports>
        <description>
            <p>You trace a magical rune on a target creature. Choose one the following runic marks:</p>
            <ul>
                <li><strong>Sealing Rune:</strong> For the duration of the rune, the target must make a Charisma saving throw with disadvantage any time they try to cast a spell. On failure, the spell slot is used, but does not cast.</li>
                <li>Tracking Rune:<strong></strong> You know the exact location of the creature for the duration. If they are on another plane, you know what plane they are on.</li>
                <li><strong>Restraining Rune:</strong> For the duration of the rune, the target must make a Charisma saving throw at the start of each of its turns or be restrained when attempting to do anything besides things you directly ordered the creature to do (no action required).</li>
            </ul>
            <p class="indent">You can end the spell early by erasing the rune with an action.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">4</set>
            <set name="school">Abjuration</set>
            <set name="time">1 minute</set>
            <set name="range">Touch</set>
            <set name="duration">8 hours</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">false</set>
            <set name="materialComponent"></set>
            <set name="isConcentration">false</set>
            <set name="isRitual">false</set>
        </setters>
    </element>
    <element name="Orbital Stones" type="Spell" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_SPELL_ORBITAL_STONES">
        <supports>Druid, Sorcerer, Warlock</supports>
        <description>
            <p>You lift three small to medium rocks or similar objects from within 10 feet of you, causing them defy gravity and slowly circle you. While all three are in orbit around you, you have total cover against ranged attacks. While two are in orbit, you have three quarters cover, and while only one remains, you have half cover. The spell ends when none of them are orbiting you.</p>
            <p class="indent">As a bonus action while at least one object remains in orbit, you can magically fling it at target within 60 feet. Make a ranged spell attack roll. On hit, the target takes 2d12 bludgeoning damage and is knocked backward 5 feet.</p>
        </description>
        <setters>
            <set name="keywords"></set>
            <set name="level">4</set>
            <set name="school">Transmutation</set>
            <set name="time">1 action</set>
            <set name="range">Self</set>
            <set name="duration">Concentration, up to 1 minute</set>
            <set name="hasVerbalComponent">true</set>
            <set name="hasSomaticComponent">true</set>
            <set name="hasMaterialComponent">false</set>
            <set name="materialComponent"></set>
            <set name="isConcentration">true</set>
            <set name="isRitual">false</set>
        </setters>
    </element>

    <!--THUNDERSMITH UPGRADES-->

    <element name="Shrapnel Shot" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_THUNDERSMITH_SHRAPNEL_SHOT">
        <supports>Specialization Upgrade, Thundersmith</supports>
        <prerequisite>Stormforged weapon with the Ammunition property.</prerequisite>
        <requirements>ID_KTH_INVENTOR_WEAPON_HAND_CANNON|ID_KTH_INVENTOR_WEAPON_THUNDER_CANNON</requirements>
        <description>
            <p><em>Prerequisite: Stormforged weapon with the Ammunition property.</em></p>
            <p>You build in the tolerances to load a round of shrapnel into your stormforged weapon. As a bonus action, you swap in a special shrapnel round. This replaces the damage die the next attack you make with your stormforged weapon with a scaling effect that does more damage the closer a target is. A target within 10 feet takes 4d4 piercing damage, a target within 20 feet takes 3d4 damage a target within 20 feet takes 2d4 damage and a target's beyond 20 feet take 1d4 damage.</p>
            <p class="indent">You can fire a number of these equal to your proficiency bonus, after which you must complete a long rest and maintain your thunder cannon before you can fire additional shrapnel rounds.</p>
        </description>
        <sheet>
            <description usage="{{proficiency}}/Long Rest" action="Bonus Action">As a bonus action, you swap in a special shrapnel round. This replaces the damage die the next attack you make with your stormforged weapon with a scaling effect that does more damage the closer a target is. A target within 10 feet takes 4d4 piercing damage, a target within 20 feet takes 3d4 damage a target within 20 feet takes 2d4 damage and a target's beyond 20 feet take 1d4 damage.
            You can fire {{proficiency}} of these, after which you must complete a long rest and maintain your thunder cannon before you can fire additional shrapnel rounds.</description>
        </sheet>
    </element>

    <element name="Railgun" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_THUNDERSMITH_RAILGUN">
        <supports>Specialization Upgrade, Thundersmith</supports>
        <prerequisite>19th level, Thunder Cannon</prerequisite>
        <requirements>[level:19], ID_KTH_INVENTOR_WEAPON_THUNDER_CANNON</requirements>
        <description>
            <p><em>Prerequisite: 19th level, Thunder Cannon</em></p>
            <p>You upgrade the penetration power of your Thunder Cannon. Your Thunder Cannon gains the Siege weapon property, dealing double damage to structures. Additionally, targets can no longer gain the benefits of cover from wooden cover less than 2 feet thick or stone cover less than 1 foot thick, and such cover is destroyed when it would otherwise impede your Thunder Cannon's attack.</p>
            <p class="indent">If a second target is directly behind a target you attack and within 5 feet, make a second attack roll with disadvantage. If the second attack roll hits, roll Thunder Cannon weapon damage against the second target as well (but no Thundermonger damage is applied to it).</p>
            <p class="indent">The range of your Thunder Cannon increases by 20/60 feet.</p>
        </description>
        <sheet>
            <description>Your Thunder Cannon gains the Siege weapon property, dealing double damage to structures. Additionally, targets can no longer gain the benefits of cover from wooden cover less than 2 feet thick or stone cover less than 1 foot thick, and such cover is destroyed when it would otherwise impede your Thunder Cannon's attack. If a second target is directly behind a target you attack and within 5 feet, make a second attack roll with disadvantage. If the second attack roll hits, roll Thunder Cannon weapon damage against the second target as well (but no Thundermonger damage is applied to it). The range of your Thunder Cannon increases by 20/60 feet.</description>
        </sheet>
    </element>

    <element name="Lightning Saber" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_THUNDERSMITH_LIGHTNING_SABER">
        <supports>Specialization Upgrade, Thundersmith</supports>
        <prerequisite>19th level, Charged Blade</prerequisite>
        <requirements>[level:19], ID_KTH_INVENTOR_WEAPON_CHARGED_BLADE</requirements>
        <description>
            <p><em>Prerequisite: 19th level, Charged Blade</em></p>
            <p>You amplify lightning coursing through your weapon until it becomes a brilliant rod of near pure power. Your weapon casts bright light in a color of your choice for 30 feet, and dim light for additional 30 feet.</p>
            <p class="indent">If you target is wearing non-magical armor or natural armor, your attacks treat their armor class as 10 + their dexterity modifier; only magical effects can add additional AC to the target's defenses.</p>
        </description>
        <sheet>
            <description>Your weapon casts bright light in a color of your choice for 30 feet, and dim light for additional 30 feet. If you target is wearing non-magical armor or natural armor, your attacks treat their armor class as 10 + their dexterity modifier; only magical effects can add additional AC to the target's defenses.</description>
        </sheet>
    </element>

    <element name="Autolock" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_THUNDERSMITH_AUTOLOCK">
        <supports>Specialization Upgrade, Thundersmith</supports>
        <prerequisite>11th level</prerequisite>
        <requirements>[level:11]</requirements>
        <description>
            <p><em>Prerequisite: 11th level</em></p>
            <p>You build a module capable of homing in on a target. You can use this module to cast seeking projectile without expending a spell slot as a bonus action. Once you cast it in this way, you cannot cast it again until you complete a short or long rest.</p>
            <div class="reference">
                <div element="ID_KTH_INVENTOR_SPELL_SEEKING_PROJECTILE" /> 
            </div>
        </description>
        <sheet>
            <description usage="1/Short Rest" action="Bonus Action">You build a module capable of homing in on a target. You can use this module to cast seeking projectile without expending a spell slot as a bonus action. Once you cast it in this way, you cannot cast it again until you complete a short or long rest.</description>
        </sheet>
        <rules>
            <grant type="Spell" id="ID_KTH_INVENTOR_SPELL_SEEKING_PROJECTILE" />
        </rules>
    </element>

    <element name="Impact Rounds" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_THUNDERSMITH_IMPACT_ROUNDS">
        <supports>Specialization Upgrade, Thundersmith, Unrestricted</supports>
        <description>
            <p>You create special rounds capable of crumping on impact to deliver maximum kinetic force. On a hit with your Stormforged weapon, you can sacrifice a number of damage of your Thundermonger effect to instead knock the target away from you 5 feet for each die sacrificed. This effect only works on Large or smaller creatures.</p>
        </description>
        <sheet>
            <description>On a hit with your Stormforged weapon, you can sacrifice a number of damage of your Thundermonger effect to instead knock the target away from you 5 feet for each die sacrificed. This effect only works on Large or smaller creatures.</description>
        </sheet>
    </element>

    <element name="Incineration Shot" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_THUNDERSMITH_INCINERATION_SHOT">
        <supports>Specialization Upgrade, Thundersmith, Unrestricted</supports>
        <description>
            <p>You fire a special fireburst round. On a hit with your Stormforged weapon, instead of dealing Thundermonger damage, the target is set ablaze for 1 minute. At the start of its turns while ablaze it takes a number of d6 fire damage equal to your Inventor level divided by 4 (rounded up). It can end the effect by spending its action to put out the flames.</p>
            <table>
                <thead>
                    <tr><td>Level</td><td>Burn Damage</td></tr>
                </thead>
                <tr><td>1-4</td><td>1d6</td></tr>
                <tr><td>5-8</td><td>2d6</td></tr>
                <tr><td>9-12</td><td>3d6</td></tr>
                <tr><td>13-16</td><td>4d6</td></tr>
                <tr><td>17-20</td><td>5d6</td></tr>
            </table>
        </description>
        <sheet>
            <description>You fire a special fireburst round. On a hit with your Stormforged weapon, instead of dealing Thundermonger damage, the target is set ablaze for 1 minute. At the start of its turns while ablaze it takes {{incineration shot:time}}d6 fire damage. It can end the effect by spending its action to put out the flames.</description>
        </sheet>
        <rules>
            <stat name="incineration shot:time" value="1" level="1" />
            <stat name="incineration shot:time" value="1" level="5" />
            <stat name="incineration shot:time" value="1" level="9" />
            <stat name="incineration shot:time" value="1" level="13" />
            <stat name="incineration shot:time" value="1" level="17" />
        </rules>
    </element>

    <element name="Dragon Burst" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_THUNDERSMITH_DRAGON_BURST">
        <supports>Specialization Upgrade, Thundersmith</supports>
        <prerequisite>11th level, Incineration Shot, Storm Blast</prerequisite>
        <requirements>[level:11],ID_KTH_INVENTOR_UPGRADE_THUNDERSMITH_INCINERATION_SHOT,ID_KTH_INVENTOR_UPGRADE_THUNDERSMITH_STORM_BLAST</requirements> 
        <description>
            <p><em>Prerequisite: 11th level, Incineration Shot, Storm Blast</em></p>
            <p>You can make a special attack with your Stormforged Weapon, unleashing a massive gout of fire in a 30-foot cone as an action. Each creature in the area must make a Strength saving throw or take 1d6 fire damage and become ingnited by your Incineration Shot.</p>
        </description>
        <sheet>
            <description>You can make a special attack with your Stormforged Weapon, unleashing a massive gout of fire in a 30-foot cone as an action. Each creature in the area must make a Strength saving throw or take 1d6 fire damage and become ingnited by your Incineration Shot.</description>
        </sheet>
    </element>

    <element name="Powered Weapon" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_THUNDERSMITH_POWERED_WEAPON">
        <supports>Specialization Upgrade, Thundersmith, Unrestricted</supports>
        <prerequisite>Kinetic Hammer, Lightning Pike</prerequisite>
        <requirements>ID_KTH_INVENTOR_WEAPON_KINETIC_HAMMER|ID_KTH_INVENTOR_WEAPON_LIGHTNING_PIKE</requirements> 
        <description>
            <p><em>Prerequisite: Kinetic Hammer, Lightning Pike</em></p>
            <p>Your stormforged weapon is has mechanical leverage or additional propulsion, allowing you to wield even heavy weapons with finesse. Your weapon gains the Finesse property.</p>
        </description>
        <sheet>
            <description>Your weapon gains the Finesse property.</description>
        </sheet>
    </element>

    <element name="Transforming Weapon" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_THUNDERSMITH_TRANSFORMING_WEAPON">
        <supports>Specialization Upgrade, Thundersmith</supports>
        <prerequisite>9th level, Adaptable Weapon</prerequisite>
        <requirements>[level:9],ID_KTH_INVENTOR_UPGRADE_THUNDERSMITH_ADAPTABLE_WEAPONS</requirements> 
        <description>
            <p><em>Prerequisite: 9th level, Adaptable Weapon</em></p>
            <p>Select 3 of Thunder Cannon, Lightning Pike, Kinetic Hammer, Hand Cannon, and Charged Blade. As a bonus action, you can transform your Stormforged Weapon between them.</p>
        </description>
        <sheet>
            <description>Select 3 of Thunder Cannon, Lightning Pike, Kinetic Hammer, Hand Cannon, and Charged Blade. As a bonus action, you can transform your Stormforged Weapon between them.</description>
        </sheet>
    </element>

    <element name="Lightning Magic" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_THUNDERSMITH_LIGHTNING_MAGIC">
        <supports>Specialization Upgrade, Thundersmith, Unrestricted</supports>
        <description>
            <p>After long study of internal workings of your Stormforged Weapon, your mastery of lightning and thunder magic is such that you learn the following spells at the following levels and can cast them as Inventor Spells.</p>
            <table>
                <thead>
                    <tr><td>Inventor Level</td><td>Spell</td></tr>
                </thead>
                <tr><td>3rd</td><td>thunderwave</td></tr>
                <tr><td>5th</td><td>shatter</td></tr>
                <tr><td>9th</td><td>thunder pulse</td></tr>
                <tr><td>13th</td><td>echoing lance</td></tr>
                <tr><td>17th</td><td>sonic shriek</td></tr>
            </table>
            <p class="indent">You can cast lightning tendril without expending a spell slot, after which you must complete a long rest before you can cast it without expanding a spell slot again. Starting at 5th level, you can choose to cast crackle without expending a spell slot instead.</p>
        </description>
        <sheet>
            <description level="1" usage="1/Long Rest">You can cast lightning tendril without expending a spell slot, after which you must complete a long rest before you can cast it without expanding a spell slot again.</description>
            <description level="5" usage="1/Long Rest">You can cast lightning tendril or crackle without expending a spell slot, after which you must complete a long rest before you can cast either without expanding a spell slot again.</description>
        </sheet>
        <rules>
            <grant type="Spell" id="ID_PHB_SPELL_THUNDERWAVE" level="3" /> 
            <grant type="Spell" id="ID_PHB_SPELL_SHATTER" level="5" /> 
            <grant type="Spell" id="ID_KTH_GS_SPELL_THUNDER_PULSE" level="9" /> 
            <grant type="Spell" id="ID_KTH_GS_SPELL_ECHOING_LANCE" level="13" /> 
            <grant type="Spell" id="ID_KTH_GS_SPELL_SONIC_SHRIEK" level="17" /> 
        </rules>
    </element>

    <!--GADGETSMITH UPGRADES-->

    <element name="Antimagical Shackle" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_GADGETSMITH_ANTIMAGICAL_SHACKLE">
        <supports>Specialization Upgrade, Gadgetsmith</supports>
        <prerequisite>5th level</prerequisite>
        <requirements>[level:5]</requirements>
        <description>
            <p><em>Prerequisite: 5th level</em></p>
            <p>You create an antimagical shackle. When you are adjacent to a creature, as an action you can attempt to shackle them to yourself or a nearby object using these shackles. The you make a Dexterity (Sleight of Hand) check contested by a Strength (Athletics) or Dexterity (Acrobatics) check. On failure, they are shackled to the creature or object you attempted to shackle them to, and can move only by moving it if they are able to.</p>
            <p class="indent">Additionally, while shackled by these shackles, they cannot teleport, planeshift, polymorph, shapechange, dematerialize, or turn into an amorphous form. As an action they can make a Strength saving throw against your spell save DC to break the shackles once shackled, otherwise these shackles last until you remove them.</p>
            <p class="indent">This shackles have no effect on creatures immune to being grappled or restrained.</p>
        </description>
        <sheet>
            <description>When you are adjacent to a creature, as an action you can attempt to shackle them to yourself or a nearby object using these shackles. The you make a Dexterity (Sleight of Hand) check contested by a Strength (Athletics) or Dexterity (Acrobatics) check. On failure, they are shackled to the creature or object you attempted to shackle them to, and can move only by moving it if they are able to.
            Additionally, while shackled by these shackles, they cannot teleport, planeshift, polymorph, shapechange, dematerialize, or turn into an amorphous form. As an action they can make a Strength saving throw against your spell save DC to break the shackles once shackled, otherwise these shackles last until you remove them.
            This shackles have no effect on creatures immune to being grappled or restrained.</description>
        </sheet>
    </element>

    <element name="Conductive Lightning" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_GADGETSMITH_CONDUCTIVE_LIGHTNING">
        <supports>Specialization Upgrade, Gadgetsmith, Unrestricted</supports>
        <prerequisite>Lightning Baton</prerequisite>
        <requirements>ID_KIBBLESTASTY_INVENTOR_UPGRADE_GADGETSMITH_LIGHTNING_BATON</requirements>
        <description>
            <p><em>Prerequisite: Lightning Baton</em></p>
            <p>If you make an attack against a target wearing metal armor or wielding metal weapons, the target takes the lightning damage from your baton attack regardless if you hit or miss, and your Lightning Baton gains a special attack. If you are under the effect of <em>lightning charged</em>, missed attacks that deal lightning damage also generate an arc of lightning from the spell.</p>
            <p class="indent"><em>Special:</em> If your opponent is wielding a metal weapon, you can deliver a extra powerful shock through to attempt to make them drop the weapon. As an attack, instead of making an attack roll, the target makes a Constitution saving throw, taking 2d4 + your intelligence modifier lightning damage and dropping their weapon on a failed save. When you make this special attack, your Lightning Baton becomes a Club until the end of your next turn.</p>
            <div class="reference">
                <div element="ID_KTH_INVENTOR_SPELL_LIGHTNING_CHARGED" />
            </div>
        </description>
        <sheet>
            <description>If you make an attack against a target wearing metal armor or wielding metal weapons, the target takes the lightning damage from your baton attack regardless if you hit or miss, and your Lightning Baton gains a special attack. If you are under the effect of <em>lightning charged</em>, missed attacks that deal lightning damage also generate an arc of lightning from the spell.
            <em>Special:</em> If your opponent is wielding a metal weapon, you can deliver a extra powerful shock through to attempt to make them drop the weapon. As an attack, instead of making an attack roll, the target makes a Constitution saving throw, taking 2d4 + {{intelligence:modifier}} lightning damage and dropping their weapon on a failed save. When you make this special attack, your Lightning Baton becomes a Club until the end of your next turn.</description>
        </sheet>
    </element>

    <element name="Creature Container" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_GADGETSMITH_CREATURE_CONTAINER">
        <supports>Specialization Upgrade, Gadgetsmith</supports>
        <prerequisite>5th level</prerequisite>
        <requirements>[level:5]</requirements>
        <description>
            <p><em>Prerequisite: 5th level</em></p>
            <p>You make a small ball like gadget that contains a magical replica of a beast. As an action, you can throw this ball to conjure forth the stored creature, casting summon beast without expend a spell slot. You can expend a spell slot of a higher level to cast the spell at the level of the expended spell slot plus one level.</p>
            <p class="indent">Once you use this gadget, you cannot use it again until you complete a long rest.</p>
            <div class="reference">
                <div element="ID_WOTC_TCOE_SPELL_SUMMON_BEAST" />
            </div>
        </description>
        <sheet>
            <description usage="1/Long Rest" action="Action">You make a small ball like gadget that contains a magical replica of a beast. As an action, you can throw this ball to conjure forth the stored creature, casting summon beast without expend a spell slot. You can expend a spell slot of a higher level to cast the spell at the level of the expended spell slot plus one level.</description>
        </sheet>
        <rules>
            <grant type="Spell" id="ID_WOTC_TCOE_SPELL_SUMMON_BEAST" />
        </rules>
    </element>

    <element name="Death Ray" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_GADGETSMITH_DEATH_RAY">
        <supports>Specialization Upgrade, Gadgetsmith</supports>
        <prerequisite>17th level</prerequisite>
        <requirements>[level:17]</requirements>
        <description>
            <p><em>Prerequisite: 17th level</em></p>
            <p>You build a death ray, as Inventors do. As an action, you can cast <em>finger of death</em> without expending a spell slot. Once you use this gadget, you cannot use it again until you complete a long rest.</p>
            <div class="reference">
                <div element="ID_PHB_SPELL_FINGER_OF_DEATH" />
            </div>
        </description>
        <sheet>
            <description action="Action" usage="1/Long rest">You can cast <em>finger of death</em> without expending a spell slot.</description>
        </sheet>
        <rules>
            <grant type="Spell" id="ID_PHB_SPELL_FINGER_OF_DEATH" />
        </rules>
    </element>

    <element name="Flames and Fury" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_GADGETSMITH_FLAMES_AND_FURY">
        <supports>Specialization Upgrade, Gadgetsmith, Unrestricted</supports>
        <prerequisite>Fire Spitter</prerequisite>
        <requirements>ID_KIBBLESTASTY_INVENTOR_UPGRADE_GADGETSMITH_FIRE_SPITTER</requirements>
        <description>
            <p><em>Prerequisite: Fire Spitter</em></p>
            <p>Sometimes the world needs more fire, and you've developed ways to accommodate the world on that need. Tinkering with things of a more violtile nature has given you insight into more ways to burn and explode things with your spell slots at the following levels:</p>
            <table>
                <thead>
                    <tr><td>Inventor Level</td><td>Spell</td></tr>
                </thead>
                <tr><td>3rd</td><td>burning hands, hellish rebuke</td></tr>
                <tr><td>5th</td><td>Aganazzar's scorcher, pyrotechnics</td></tr>
                <tr><td>9th</td><td>fireball</td></tr>
            </table>
            <div class="reference">
                <div element="ID_PHB_SPELL_BURNING_HANDS" />
            </div>
            <div class="reference">
                <div element="ID_PHB_SPELL_HELLISH_REBUKE" />
            </div>
            <div class="reference">
                <div element="ID_XGTE_SPELL_AGANAZZARS_SCORCHER" />
            </div>
            <div class="reference">
                <div element="ID_XGTE_SPELL_PYROTECHNICS" />
            </div>
            <div class="reference">
                <div element="ID_PHB_SPELL_FIREBALL" />
            </div>
        </description>
        <sheet>
            <description>You gain additional spells at certain levels.</description>
        </sheet>
        <rules>
            <grant type="Spell" id="ID_PHB_SPELL_BURNING_HANDS" level="3" spellcasting="Inventor" />
            <grant type="Spell" id="ID_PHB_SPELL_HELLISH_REBUKE" level="3" spellcasting="Inventor" />
            <grant type="Spell" id="ID_XGTE_SPELL_AGANAZZARS_SCORCHER" level="5" spellcasting="Inventor" />
            <grant type="Spell" id="ID_XGTE_SPELL_PYROTECHNICS" level="5" spellcasting="Inventor" />
            <grant type="Spell" id="ID_PHB_SPELL_FIREBALL" level="9" spellcasting="Inventor" />
        </rules>
    </element>

    <element name="Multipurpose Investigation Tool" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_GADGETSMITH_MULTIPURPOSE_INVESTIGATION_TOOL">
        <supports>Specialization Upgrade, Gadgetsmith, Unrestricted</supports>
        <requirements>!ID_KIBBLESTASTY_INVENTOR_XDISC_GADGETSMITH_MULTIPURPOSE_INVESTIGATION_TOOL</requirements>
        <description>
            <p>You build a tool with a suite of gizmos and widgets for optimal examination. While using this device, you gain proficiency in Intelligence (Investigation) checks. If you already have proficiency in Intelligence (Investigation) you can add twice your proficiency bonus.</p>
        </description>
        <sheet>
            <description>While using this device, you gain proficiency in Intelligence (Investigation) checks. If you already have proficiency in Intelligence (Investigation) you can add twice your proficiency bonus.</description>
        </sheet>
        <rules>
            <grant type="Proficiency" id="ID_PROFICIENCY_SKILL_INVESTIGATION" />
        </rules>
    </element>
    <element name="Multipurpose Investigation Tool" type="Archetype Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_XDISC_GADGETSMITH_MULTIPURPOSE_INVESTIGATION_TOOL">
        <supports>Cross Disciplinary Knowledge</supports>
        <requirements>!ID_KIBBLESTASTY_INVENTOR_UPGRADE_GADGETSMITH_MULTIPURPOSE_INVESTIGATION_TOOL, !ID_KIBBLESTASTY_INVENTOR_ARCHETYPE_GADGETSMITH</requirements>
        <description>
            <p>You build a tool with a suite of gizmos and widgets for optimal examination. While using this device, you gain proficiency in Intelligence (Investigation) checks. If you already have proficiency in Intelligence (Investigation) you can add twice your proficiency bonus.</p>
        </description>
        <sheet>
            <description>While using this device, you gain proficiency in Intelligence (Investigation) checks. If you already have proficiency in Intelligence (Investigation) you can add twice your proficiency bonus.</description>
        </sheet>
        <rules>
            <grant type="Proficiency" id="ID_PROFICIENCY_SKILL_INVESTIGATION" />
        </rules>
    </element>

    <element name="Spring Action Dagger" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_GADGETSMITH_SPRING_ACTION_DAGGER">
        <supports>Specialization Upgrade, Gadgetsmith, Unrestricted</supports>
        <requirements>!ID_KIBBLESTASTY_INVENTOR_XDISC_GADGETSMITH_SPRING_ACTION_DAGGER</requirements>
        <description>
            <p>You create a dagger capable of being deployed with sudden and brutal efficiency. You have proficiency in this weapon, and it has the Finesse, Light, and Thrown (30/90) properties. It deals 1d4 piercing damage. This weapon can be concealed as something else; a creature searching you will only determine it a weapon by making an Intelligence (Investigation) check with a DC equal to your Spell Save modifier.</p>
            <p class="indent">Special: The first time you attack a creature with this dagger, you have advantage on the attack roll. When thrown, it's damage die becomes a d8.</p>
            <p class="indent">Once thrown, another dagger can be equipped as your Spring Action Dagger as a bonus action.</p>
        </description>
        <sheet>
            <description>You create a dagger capable of being deployed with sudden and brutal efficiency. You have proficiency in this weapon, and it has the Finesse, Light, and Thrown (30/90) properties. It deals 1d4 piercing damage. This weapon can be concealed as something else; a creature searching you will only determine it a weapon by making an Intelligence (Investigation) check with a DC equal to your Spell Save modifier.
            Special: The first time you attack a creature with this dagger, you have advantage on the attack roll. When thrown, it's damage die becomes a d8.
            Once thrown, another dagger can be equipped as your Spring Action Dagger as a bonus action.</description>
        </sheet>
    </element>
    <element name="Spring Action Dagger" type="Archetype Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_XDISC_GADGETSMITH_SPRING_ACTION_DAGGER">
        <supports>Cross Disciplinary Knowledge</supports>
        <requirements>!ID_KIBBLESTASTY_INVENTOR_UPGRADE_GADGETSMITH_SPRING_ACTION_DAGGER, !ID_KIBBLESTASTY_INVENTOR_ARCHETYPE_GADGETSMITH</requirements>
        <description>
            <p>You create a dagger capable of being deployed with sudden and brutal efficiency. You have proficiency in this weapon, and it has the Finesse, Light, and Thrown (30/90) properties. It deals 1d4 piercing damage. This weapon can be concealed as something else; a creature searching you will only determine it a weapon by making an Intelligence (Investigation) check with a DC equal to your Spell Save modifier.</p>
            <p class="indent">Special: The first time you attack a creature with this dagger, you have advantage on the attack roll. When thrown, it's damage die becomes a d8.</p>
            <p class="indent">Once thrown, another dagger can be equipped as your Spring Action Dagger as a bonus action.</p>
        </description>
        <sheet>
            <description>You create a dagger capable of being deployed with sudden and brutal efficiency. You have proficiency in this weapon, and it has the Finesse, Light, and Thrown (30/90) properties. It deals 1d4 piercing damage. This weapon can be concealed as something else; a creature searching you will only determine it a weapon by making an Intelligence (Investigation) check with a DC equal to your Spell Save modifier.
            Special: The first time you attack a creature with this dagger, you have advantage on the attack roll. When thrown, it's damage die becomes a d8.
            Once thrown, another dagger can be equipped as your Spring Action Dagger as a bonus action.</description>
        </sheet>
    </element>

    <element name="Steelweave Nets" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_GADGETSMITH_STEELWEAVE_NETS">
        <supports>Specialization Upgrade, Gadgetsmith, Unrestricted</supports>
        <requirements>!ID_KIBBLESTASTY_INVENTOR_XDISC_GADGETSMITH_STEELWEAVE_NETS</requirements>
        <description>
            <p>You thread your nets with metal reinforcement, making them tougher and more conductive. The net gains an AC of 15 and resistance to slashing damage. Whenever a creature restrained by the net takes Lightning damage, it takes an additional 1d6 lightning damage.</p>
            <p class="indent">When a net is turned into a Steelweave Net, only you have proficiency with it. You can have a number of them equal to your Intelligence modifier, replenishing your supply over the course of a long rest by forging normal nets into Steelweave Nets.</p>
        </description>
        <sheet>
            <description usage="{{intelligence:modifier}}/Long rest">Your nets gain an AC of 15 and resistance to slashing damage. Whenever a creature restrained by the net takes Lightning damage, it takes an additional 1d6 lightning damage.
            When a net is turned into a Steelweave Net, only you have proficiency with it. You can have {{intelligence:modifier}} nets, replenishing your supply over the course of a long rest by forging normal nets into Steelweave Nets.</description>
        </sheet>
    </element>
    <element name="Steelweave Nets" type="Archetype Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_XDISC_GADGETSMITH_STEELWEAVE_NETS">
        <supports>Cross Disciplinary Knowledge</supports>
        <requirements>!ID_KIBBLESTASTY_INVENTOR_UPGRADE_GADGETSMITH_STEELWEAVE_NETS, !ID_KIBBLESTASTY_INVENTOR_ARCHETYPE_GADGETSMITH</requirements>
        <description>
            <p>You thread your nets with metal reinforcement, making them tougher and more conductive. The net gains an AC of 15 and resistance to slashing damage. Whenever a creature restrained by the net takes Lightning damage, it takes an additional 1d6 lightning damage.</p>
            <p class="indent">When a net is turned into a Steelweave Net, only you have proficiency with it. You can have a number of them equal to your Intelligence modifier, replenishing your supply over the course of a long rest by forging normal nets into Steelweave Nets.</p>
        </description>
        <sheet>
            <description usage="{{intelligence:modifier}}/Long rest">Your nets gain an AC of 15 and resistance to slashing damage. Whenever a creature restrained by the net takes Lightning damage, it takes an additional 1d6 lightning damage.
            When a net is turned into a Steelweave Net, only you have proficiency with it. You can have {{intelligence:modifier}} nets, replenishing your supply over the course of a long rest by forging normal nets into Steelweave Nets.</description>
        </sheet>
    </element>

    <element name="Trick Shots" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_GADGETSMITH_TRICK_SHOTS">
        <supports>Specialization Upgrade, Gadgetsmith, Unrestricted</supports>
        <requirements>!ID_KIBBLESTASTY_INVENTOR_XDISC_GADGETSMITH_TRICK_SHOTS</requirements>
        <description>
            <p>At the end of a short or long rest, you can add one of the following effects to a piece of ammunition or thrown weapon, turning it into a trick shot.</p>
            <ul>
                <li><strong>Special Tip: </strong>You can select a different damage type for the attack from bludgeoning, piercing, slashing, acid, cold, fire, or lightning.</li>
                <li><strong>Bouncing: </strong>You can attack a target out of line of sight of with it if you know their location by bouncing it off a surface. They have the benefit of half cover instead of full cover.</li>
                <li><strong>Ricochet: </strong>If you hit an attack roll with it, you can make another attack roll against another target within 10 feet of the first as part of the same attack.</li>
                <li><strong>Smoke Shot: </strong>You can use the arrow to deploy your smoke bomb feature on impact at a point or target.</li>
                <li><strong>Arcane Trick: </strong>You can imbue a cantrip or 1st level spell you know into the arrow, casting it on impact where the arrow lands. If the spell has a target, the target of the attack is the target. If it has an area of effect, that is centered on the arrow.</li>
            </ul>
            <p class="indent">You can only have one modified shot at a time, and it is expended on use.</p>
        </description>
        <sheet>
            <description usage="1/Long rest">A piece of ammunition or thrown weapon gets one of the following traits:
            <strong>Special Tip: </strong>You can select a different damage type for the attack from bludgeoning, piercing, slashing, acid, cold, fire, or lightning.
            <strong>Bouncing: </strong>You can attack a target out of line of sight of with it if you know their location by bouncing it off a surface. They have the benefit of half cover instead of full cover.
            <strong>Ricochet: </strong>If you hit an attack roll with it, you can make another attack roll against another target within 10 feet of the first as part of the same attack.
            <strong>Smoke Shot: </strong>You can use the arrow to deploy your smoke bomb feature on impact at a point or target.
            <strong>Arcane Trick: </strong>You can imbue a cantrip or 1st level spell you know into the arrow, casting it on impact where the arrow lands. If the spell has a target, the target of the attack is the target. If it has an area of effect, that is centered on the arrow.</description>
        </sheet>
    </element>
    <element name="Trick Shots" type="Archetype Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_XDISC_GADGETSMITH_TRICK_SHOTS">
        <supports>Cross Disciplinary Knowledge</supports>
        <requirements>!ID_KIBBLESTASTY_INVENTOR_UPGRADE_GADGETSMITH_TRICK_SHOTS, !ID_KIBBLESTASTY_INVENTOR_ARCHETYPE_GADGETSMITH</requirements>
        <description>
            <p>At the end of a short or long rest, you can add one of the following effects to a piece of ammunition or thrown weapon, turning it into a trick shot.</p>
            <ul>
                <li><strong>Special Tip: </strong>You can select a different damage type for the attack from bludgeoning, piercing, slashing, acid, cold, fire, or lightning.</li>
                <li><strong>Bouncing: </strong>You can attack a target out of line of sight of with it if you know their location by bouncing it off a surface. They have the benefit of half cover instead of full cover.</li>
                <li><strong>Ricochet: </strong>If you hit an attack roll with it, you can make another attack roll against another target within 10 feet of the first as part of the same attack.</li>
                <li><strong>Arcane Trick: </strong>You can imbue a cantrip or 1st level spell you know into the arrow, casting it on impact where the arrow lands. If the spell has a target, the target of the attack is the target. If it has an area of effect, that is centered on the arrow.</li>
            </ul>
            <p class="indent">You can only have one modified shot at a time, and it is expended on use.</p>
        </description>
        <sheet>
            <description usage="1/Long rest">A piece of ammunition or thrown weapon gets one of the following traits:
            <strong>Special Tip: </strong>You can select a different damage type for the attack from bludgeoning, piercing, slashing, acid, cold, fire, or lightning.
            <strong>Bouncing: </strong>You can attack a target out of line of sight of with it if you know their location by bouncing it off a surface. They have the benefit of half cover instead of full cover.
            <strong>Ricochet: </strong>If you hit an attack roll with it, you can make another attack roll against another target within 10 feet of the first as part of the same attack.
            <strong>Arcane Trick: </strong>You can imbue a cantrip or 1st level spell you know into the arrow, casting it on impact where the arrow lands. If the spell has a target, the target of the attack is the target. If it has an area of effect, that is centered on the arrow.</description>
        </sheet>
    </element>

    <element name="Transmogrifier" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_GADGETSMITH_TRANSMOGRIFIER">
        <supports>Specialization Upgrade, Gadgetsmith</supports>
        <prerequisite>9th level</prerequisite>
        <requirements>[level:9]</requirements>
        <description>
            <p><em>Prerequisite: 9th level</em></p>
            <p>You build a device to channel the power of transmution able to cast <em>polymorph</em> without expending a spell slot... unfortunately without great precision. Roll a d8 to determine what beast the spell will transform the target into and a d4 to select an additional effect, and then pick a target for the spell. If you do not pick a target, you will be the target.</p>
            <table>
                <thead>
                    <tr><td>d8</td><td>Beast</td></tr>
                </thead>
                <tr><td>1</td><td>Frog (MM p.318)</td></tr>
                <tr><td>2</td><td>Cat (MM p.322)</td></tr>
                <tr><td>3</td><td>Ape (MM p.317)</td></tr>
                <tr><td>4</td><td>Brown Bear (MM p.319)</td></tr>
                <tr><td>5</td><td>Giant Constrictor Snake (MM p.324)</td></tr>
                <tr><td>6</td><td>Elephant (MM p.322)</td></tr>
                <tr><td>7</td><td>Mammoth (MM p.332)</td></tr>
                <tr><td>8</td><td>Tyrannosaurus Rex (MM p.80)</td></tr>
            </table>
            <table>
                <thead>
                    <tr><td>d4</td><td>Additional Effects</td></tr>
                </thead>
                <tr><td>1</td><td>The creature is one size smaller. Deals half damage.</td></tr>
                <tr><td>2</td><td>The creature is missing a leg. Halved movement speed.</td></tr>
                <tr><td>3</td><td>The creature has an extra head. Makes 1 extra attack.</td></tr>
                <tr><td>4</td><td>The creature is one size larger. Deals +1d4 damage.</td></tr>
            </table>
            <p class="indent">Once you use it, the Transmogrifier cannot be used again until you complete a long rest.</p>
        </description>
        <div class="reference">
            <div element="ID_PHB_SPELL_POLYMORPH" />
        </div>
        <sheet>
            <description usage="1/Long rest">You are able to cast <em>polymorph</em> without expending a spell slot... unfortunately without great precision. Roll a d8 to determine what beast the spell will transform the target into and a d4 to select an additional effect, and then pick a target for the spell. If you do not pick a target, you will be the target.</description>
        </sheet>
    </element>

    <element name="Wild Detonation" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_GADGETSMITH_WILD_DETONATION">
        <supports>Specialization Upgrade, Gadgetsmith</supports>
        <prerequisite>9th level, Fire Spitter or Flashbang</prerequisite>
        <requirements>[level:9], (ID_KIBBLESTASTY_INVENTOR_UPGRADE_GADGETSMITH_FIRE_SPITTER|ID_KIBBLESTASTY_INVENTOR_UPGRADE_GADGETSMITH_FLASHBANG)</requirements>
        <description>
            <p><em>Prerequisite: 9th level, Fire Spitter or Flashbang</em></p>
            <p>Now when you use your Fire Spitter, you can double the dimensions and damage of the spell effect. Additionally, creatures that fail the saving against your Flashbang by 5 or more are stunned as well as blinded until the end of their next turn.</p>
        </description>
        <sheet>
            <description>Now when you use your Fire Spitter, you can double the dimensions and damage of the spell effect. Additionally, creatures that fail the saving against your Flashbang by 5 or more are stunned as well as blinded until the end of their next turn.</description>
        </sheet>
    </element>

    <element name="Violent Momentum" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_GADGETSMITH_VIOLENT_MOMENTUM">
        <supports>Specialization Upgrade, Gadgetsmith</supports>
        <prerequisite>11th level, Impact Gauntlet</prerequisite>
        <requirements>[level:11], ID_KIBBLESTASTY_INVENTOR_UPGRADE_GADGETSMITH_IMPACT_GAUNTLET</requirements>
        <description>
            <p><em>Prerequisite: 11th level, Impact Gauntlet</em></p>
            <p>Once per turn, when you move 10 feet or more toward a target before attacking them with your Impact Gauntlet, you can use the special attack of your Impact Gauntlet without forgoing your hit bonus.</p>
            </description>
        <sheet>
            <description usage="1/Turn">When you move 10 feet or more toward a target before attacking them with your Impact Gauntlet, you can use the special attack of your Impact Gauntlet without forgoing your hit bonus.</description>
        </sheet>
    </element>

    <element name="Quick Essential Gadget" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_GADGETSMITH_QUICK_ESSENTIAL_GADGET">
        <supports>Specialization Upgrade, Gadgetsmith, Unrestricted</supports>
        <description>
            <p>You set modify your essential gear for quickened use. You can use your Grappling Hook or Smoke Bomb as a bonus action. Once you use either this way, you cannot use either of them this way again until completing a short or long rest.</p>
            </description>
        <sheet>
            <description action="Bonus Action" usage="1/Short Rest">You set modify your essential gear for quickened use. You can use your Grappling Hook or Smoke Bomb as a bonus action. Once you use either this way, you cannot use either of them this way again until completing a short or long rest.</description>
        </sheet>
    </element>

    <!--INFUSIONSMITH UPGRADES-->

    <element name="Enchanted Garments" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_INFUSIONSMITH_ENCHANTED_GARMENTS">
        <supports>Specialization Upgrade, Infusionsmith, Unrestricted</supports>
        <description>
            <p>You enchant your clothes, granting you several benefits over mundane not-enchanted clothes:</p>
            <ul>
                <li>You can cast <em>prestidigitation</em> targeting only your own clothes.</li>
                <li>You cause them to change style or color as an action, keeping the new style or color until your take them off or enchant a new set.</li>
                <li>They do not get wet unless you will them to, keeping you dry.</li>
                <li>You can ignore the environmental effects of extreme heat or cold.</li>
            </ul>
            <div class="reference">
				<div element="ID_PHB_SPELL_PRESTIDIGITATION" />
			</div>
        </description>
        <sheet>
            <description>You enchant your clothes, granting you several benefits over mundane not-enchanted clothes:
            You can cast <em>prestidigitation</em> targeting only your own clothes.
            You cause them to change style or color as an action, keeping the new style or color until your take them off or enchant a new set.
            They do not get wet unless you will them to, keeping you dry.
            You can ignore the environmental effects of extreme heat or cold.</description>
        </sheet>
    </element>

    <element name="Infuse Elements" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_INFUSIONSMITH_INFUSE_ELEMENTS">
        <supports>Specialization Upgrade, Infusionsmith, Unrestricted</supports>
        <description>
            <p>You can infuse elements with your magic temporarily, granting you limited control of them. You learn the cantrips control flames, mold earth, and shape water.</p>
            <div class="reference">
				<div element="ID_XGTE_SPELL_CONTROL_FLAMES" />
			</div>
            <div class="reference">
				<div element="ID_XGTE_SPELL_MOLD_EARTH" />
			</div>
            <div class="reference">
				<div element="ID_XGTE_SPELL_SHAPE_WATER" />
			</div>
        </description>
        <sheet>
            <description>You learn the cantrips control flames, mold earth, and shape water.</description>
        </sheet>
        <rules>
            <grant type="Spell" id="ID_XGTE_SPELL_CONTROL_FLAMES" spellcasting="Inventor" />
            <grant type="Spell" id="ID_XGTE_SPELL_MOLD_EARTH" spellcasting="Inventor" />
            <grant type="Spell" id="ID_XGTE_SPELL_SHAPE_WATER" spellcasting="Inventor" />
        </rules>
    </element>

    <element name="Investiture of Soul" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_INFUSIONSMITH_INVESTITURE_OF_SOUL">
        <supports>Specialization Upgrade, Infusionsmith</supports>
        <prerequisite>19th level</prerequisite>
        <requirements>[level:19]</requirements>
        <description>
            <p><em>Prerequisite: 19th level</em></p>
            <p>When you cast <em>animate object</em> spell, you can expend a hit die. If you do it no longer requires concentration, and lasts until the objects created are destroyed or you complete a long rest. If you cast animate objects again while you still have animated objects active, the previous spell immediately ends.</p>
            <div class="reference">
				<div element="ID_PHB_SPELL_ANIMATE_OBJECTS" />
			</div>
        </description>
        <sheet>
            <description>When you cast <em>animate object</em> spell, you can expend a hit die. If you do it no longer requires concentration, and lasts until the objects created are destroyed or you complete a long rest. If you cast animate objects again while you still have animated objects active, the previous spell immediately ends.</description>
        </sheet>
    </element>

    <element name="Spinning Blades" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_INFUSIONSMITH_SPINNING_BLADES">
        <supports>Specialization Upgrade, Infusionsmith, Unrestricted</supports>
        <description>
            <p>As an action, instead of attacking with your Animated Weapons, you cause them to whirl through the air in place. This has the effect of <em>cloud of daggers</em>, but does not require concentration and ends at the start of your next turn. For each animated weapon you have you can pick a different 5 foot cube, or send them to the same spot. For each weapon sent the same spot, the spell level of the effect is increased by one.</p>
            <div class="reference">
				<div element="ID_PHB_SPELL_CLOUD_OF_DAGGERS" />
			</div>
        </description>
        <sheet>
            <description>As an action, instead of attacking with your Animated Weapons, you cause them to whirl through the air in place. This has the effect of <em>cloud of daggers</em>, but does not require concentration and ends at the start of your next turn. For each animated weapon you have you can pick a different 5 foot cube, or send them to the same spot. For each weapon sent the same spot, the spell level of the effect is increased by one.</description>
        </sheet>
        <rules>
            <grant type="Spell" id="ID_PHB_SPELL_CLOUD_OF_DAGGERS" />
        </rules>
    </element>

    <element name="Translocation Binding" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_INFUSIONSMITH_TRANSLOCATION_BINDING">
        <supports>Specialization Upgrade, Infusionsmith</supports>
        <prerequisite>5th level</prerequisite>
        <requirements>[level:5]</requirements>
        <description>
            <p><em>Prerequisite: 5th level</em></p>
            <p>As a bonus action while attacking with an Animated Weapon or a weapon under the effect of <em>weapon of throwing</em>, you can expend a first level spell slot and teleport to it before it returns to you. You can invoke this even if the attack misses the target.</p>
            <div class="reference">
				<div element="ID_KTH_INVENTOR_SPELL_RETURNING_WEAPON" />
			</div>
        </description>
        <sheet>
            <description action="Bonus Action">As a bonus action while attacking with an Animated Weapon or a weapon under the effect of <em>weapon of throwing</em>, you can expend a first level spell slot and teleport to it before it returns to you. You can invoke this even if the attack misses the target.</description>
        </sheet>
    </element>

    <element name="Flying Enchantment" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_INFUSIONSMITH_FLYING_ENCHANTMENT">
        <supports>Specialization Upgrade, Infusionsmith</supports>
        <prerequisite>11th level</prerequisite>
        <requirements>[level:11]</requirements>
        <description>
            <p><em>Prerequisite: 11th level</em></p>
            <p>You can enchant a cloak, boots, or coat with the power of flight. While wearing this item, gain a flying speed of 30 feet.</p>
        </description>
        <sheet>
            <description>You can enchant a cloak, boots, or coat with the power of flight. While wearing this item, gain a flying speed of 30 feet.</description>
        </sheet>
        <rules>
            <stat name="speed:fly" value="30" bonus="base" />
        </rules>
    </element>

    <element name="Size Matters Not" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_INFUSIONSMITH_SIZE_MATTERS_NOT">
        <supports>Specialization Upgrade, Infusionsmith</supports>
        <prerequisite>15th level</prerequisite>
        <requirements>[level:15]</requirements>
        <description>
            <p><em>Prerequisite: 15th level</em></p>
            <p>When you animate a weapon, you can animate the weapon of a large sized creature. You can only animate one large sized weapon at a time. This weapon deals twice the damage dice of a weapon for a medium sized creature. The weapon has a range of 5 feet even when animated.</p>
        </description>
        <sheet>
            <description>When you animate a weapon, you can animate the weapon of a large sized creature. You can only animate one large sized weapon at a time. This weapon deals twice the damage dice of a weapon for a medium sized creature. The weapon has a range of 5 feet even when animated.</description>
        </sheet>
    </element>

    <element name="Spellsword" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_INFUSIONSMITH_SPELLSWORD">
        <supports>Specialization Upgrade, Infusionsmith</supports>
        <prerequisite>11th level</prerequisite>
        <requirements>[level:11]</requirements>
        <description>
            <p><em>Prerequisite: 11th level</em></p>
            <p>As a bonus action, you can expend a spell slot to imbue a spell that deals damage into your Infused Weapon. Until the end of your next turn, the first time you hit a creature, the spell is dicharged as if you cast it targeting the creature struck. If the spell is a line or cone, it is cast from you targeting the creature. If the spell has a radius, it is centered on the creature, but you are immune to the effect of the spell.</p>
            <p class="indent">The spell in all other ways behaves as if you cast it, starting at the time it is discharged. If you do not hit a creature before the end of your next turn, the spell is lost.</p>
        </description>
        <sheet>
            <description action="Bonus Action">As a bonus action, you can expend a spell slot to imbue a spell that deals damage into your Infused Weapon. Until the end of your next turn, the first time you hit a creature, the spell is dicharged as if you cast it targeting the creature struck. If the spell is a line or cone, it is cast from you targeting the creature. If the spell has a radius, it is centered on the creature, but you are immune to the effect of the spell.
            The spell in all other ways behaves as if you cast it, starting at the time it is discharged. If you do not hit a creature before the end of your next turn, the spell is lost.</description>
        </sheet>
    </element>

    <!--POTIONSMITH UPGRADES-->

    <element name="Collateral Damage" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_POTIONSMITH_COLLATERAL_DAMAGE">
        <prerequisite>Explosive Reaction</prerequisite>
        <supports>Specialization Upgrade, Potionsmith, Unrestricted</supports>
        <requirements>ID_KIBBLESTASTY_INVENTOR_UPGRADE_POTIONSMITH_EXPLOSIVE_REACTION</requirements>
        <description>
            <p><em>Prerequisite: Explosive Reaction</em></p>
            <p>Your explosive reaction now deals half damage to creatures that pass the saving throw against it.</p>
        </description>
        <sheet>
            <description>Your explosive reaction now deals half damage to creatures that pass the saving throw against it.</description>
        </sheet>
    </element>

    <element name="Carrier Familiar" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_POTIONSMITH_CARRIER_FAMILIAR">
        <prerequisite>9th level, Homunculus Familiar</prerequisite>
        <supports>Specialization Upgrade, Potionsmith</supports>
        <requirements>[level:9], ID_KIBBLESTASTY_INVENTOR_UPGRADE_POTIONSMITH_HOMUNCULUS_FAMILIAR</requirements>
        <description>
            <p><em>Prerequisite: 9th level, Homunculus Familiar</em></p>
            <p>You utilize your Familiar to deliver your instant reactions. As an action, you can hand off a semi-stablized instant reaction to your familiar. Until the end of your familiar's next turn, it can use your Instant Reaction as it's action, targeting a point within 10 feet of it or dropping it up to 20 feet before it takes effect.</p>
            <p class="indent">You take this chance to improve your familiar's delivery capabilities, granting it the Flyby feature of an Owl if does not have the feature, and 5 feet of increased movement speed to its fastest movement speed if it already does.</p>
        </description>
        <sheet>
            <description>As an action, you can hand off a semi-stablized instant reaction to your familiar. Until the end of your familiar's next turn, it can use your Instant Reaction as it's action, targeting a point within 10 feet of it or dropping it up to 20 feet before it takes effect. Additionally, you take this chance to improve your familiar's delivery capabilities, granting it the Flyby feature of an Owl if does not have the feature, and 5 feet of increased movement speed to its fastest movement speed if it already does.</description>
        </sheet>
    </element>

    <element name="Flaming Grease" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_POTIONSMITH_FLAMING_GREASE">
        <supports>Specialization Upgrade, Potionsmith, Unrestricted</supports>
        <description>
            <p>You tweak your grease formula to be flammable, as grease should be. When you cast <em>grease</em> or use it to make an Alchemical Infusion, the effect becomes flammable. If the area of effect is hit with 1 or more point of fire damage, the all creatures in the area of effect take 2d4 fire damage. The grease burns for 2 turns after being set on fire.</p>
            <p class="indent">Additionally, you can use the <em>grease</em> spell or Alchemical Infusion to coat a weapon; when ignited, that weapon deals 2d4 additional fire damage until the grease burns away (2 turns).</p>
            <div class="reference">
                <div element="ID_PHB_SPELL_GREASE" />
            </div>
        </description>
        <sheet>
            <description>When you cast <em>grease</em> or use it to make an Alchemical Infusion, the effect becomes flammable. If the area of effect is hit with 1 or more point of fire damage, the all creatures in the area of effect take 2d4 fire damage. The grease burns for 2 turns after being set on fire. Additionally, you can use the <em>grease</em> spell or Alchemical Infusion to coat a weapon; when ignited, that weapon deals 2d4 additional fire damage until the grease burns away (2 turns).</description>
        </sheet>
    </element>

    <element name="Mutation Mixture" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_POTIONSMITH_MUTATION_MIXTURE">
        <prerequisite>13th level</prerequisite>
        <supports>Specialization Upgrade, Potionsmith</supports>
        <requirements>[level:13]</requirements>
        <description>
            <p><em>Prerequisite: 13th level</em></p>
            <p>You concoct an infused potion that warps your body, rapidly and temporary mutating it in extreme ways. You gain the <em>polymorph</em> spell as an option for Alchemical Infusion, and when when you consume this Infused Potion, the duration of the potion is one hour, though it can be ended early with an action.</p>
            <div class="reference">
                <div element="ID_PHB_SPELL_POLYMORPH" />
            </div>
        </description>
        <sheet>
            <description>You gain the <em>polymorph</em> spell as an option for Alchemical Infusion, and when when you consume this Infused Potion, the duration of the potion is one hour, though it can be ended early with an action.</description>
        </sheet>
        <rules>
            <grant type="Spell" id="ID_PHB_SPELL_GREASE" />
        </rules>
    </element>

    <element name="Napalm" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_POTIONSMITH_NAPALM">
        <prerequisite>Alchemical Fire</prerequisite>
        <supports>Specialization Upgrade, Potionsmith, Unrestricted</supports>
        <requirements>ID_KTH_INVENTOR_INSTANT_RXN_ALCHEMICAL_FIRE</requirements>
        <description>
            <p><em>Prerequisite: Alchemical Fire</em></p>
            <p>Targets that fail their saving throw against your Alchemical Fire Instant Reaction take an additional 1d4 damage at the start of their turns for one minute. They can end the effect early with an action to put it out.</p>
            <div class="reference">
                <div element="ID_KTH_INVENTOR_INSTANT_RXN_ALCHEMICAL_FIRE" />
            </div>
        </description>
        <sheet>
            <description>Targets that fail their saving throw against your Alchemical Fire Instant Reaction take an additional 1d4 damage at the start of their turns for one minute. They can end the effect early with an action to put it out.</description>
        </sheet>
    </element>

    <element name="Stabilizing Agent" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_POTIONSMITH_STABILIZING_AGENT">
        <supports>Specialization Upgrade, Potionsmith, Unrestricted</supports>
        <description>
            <p>You introduce a new compound to your instant reactions that temporary stablizes them. When you use an Instant reaction, you can give it a timer of 0 to 3 rounds. The instant reaction is treated a small clump of components until that point; if undisturbed (it can be moved or thrown, but any creature that touches it can intentionally deactivate it if they know what it is), it will trigger the effect of the instant reaction where it is when the number of specified rounds have passed.</p>
            <p class="indent">If set to 0 rounds, it will trigger the effect at the end of your turn.</p>
        </description>
        <sheet>
            <description>When you use an Instant reaction, you can give it a timer of 0 to 3 rounds. The instant reaction is treated a small clump of components until that point; if undisturbed (it can be moved or thrown, but any creature that touches it can intentionally deactivate it if they know what it is), it will trigger the effect of the instant reaction where it is when the number of specified rounds have passed. If set to 0 rounds, it will trigger the effect at the end of your turn.</description>
        </sheet>
    </element>

    <element name="Goodlent Pellets" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_POTIONSMITH_GOODLENT_PELLETS">
        <supports>Specialization Upgrade, Potionsmith, Unrestricted</supports>
        <description>
            <p>You devise a nutritionally complete and revitalizing compound. You can use your alchemy to expend a first level spell slot to cast goodberry, but any berries generated taste distinctly bland.</p>
            <div class="reference">
                <div element="ID_PHB_SPELL_GOODBERRY" />
            </div>
        </description>
        <sheet>
            <description>You can use your alchemy to expend a first level spell slot to cast goodberry, but any berries generated taste distinctly bland.</description>
        </sheet>
        <rules>
            <grant type="Spell" id="ID_PHB_SPELL_GOODBERRY" />
        </rules>
    </element>

    <element name="Secrets of Acid" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_POTIONSMITH_SECRETS_OF_ACID">
        <supports>Specialization Upgrade, Potionsmith, Unrestricted</supports>
        <description>
            <p>You learn the secrets of infusing acid into your Alchemical Infusions. You can add the following spells to your list of available spells for alchemical infusions:</p>
            <table>
                <thead>
                    <tr><td>Spell Level</td><td>Infusion Spells</td></tr>
                </thead>
                <tr><td>1st</td><td>caustic brew</td></tr>
                <tr><td>2nd</td><td>acid arrow</td></tr>
                <tr><td>3rd</td><td>erode</td></tr>
            </table>
            <p class="indent">You can create one infused potion of caustic brew at the end of a long rest without expending a spell slot.</p>
        </description>
        <sheet>
            <description>Additional spells are added to your list of available spells for alchemical infusions. You can create one infused potion of caustic brew at the end of a long rest without expending a spell slot.</description>
        </sheet>
        <rules>
            <grant type="Spell" id="ID_WOTC_TCOE_SPELL_TASHAS_CAUSTIC_BREW" /> 
            <grant type="Spell" id="ID_PHB_SPELL_MELFS_ACID_ARROW" /> 
            <grant type="Spell" id="ID_KTH_GS_SPELL_ERODE" /> 
        </rules>
    </element>

    <element name="Reactive Reagents" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_POTIONSMITH_REACTIVE_REAGENTS">
        <supports>Specialization Upgrade, Potionsmith</supports>
        <prerequisite>5th level Inventor</prerequisite>
        <requirements>[level:5]</requirements>
        <description>
            <p><em>Prerequisite: 5th level Inventor</em></p>
            <p>When you use an Instant Reaction that effects an radius or cone, you can increase the size of that radius or cone by 5 feet.</p>
        </description>
        <sheet>
            <description>When you use an Instant Reaction that effects an radius or cone, you can increase the size of that radius or cone by 5 feet.</description>
        </sheet>
    </element>

    <element name="Adrenaline Rush" type="Class Feature" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_UPGRADE_POTIONSMITH_ADRENALINE_RUSH">
        <supports>Specialization Upgrade, Potionsmith</supports>
        <prerequisite>15th level Inventor, Adrenaline Serum</prerequisite>
        <requirements>[level:15],ID_KIBBLESTASTY_INVENTOR_UPGRADE_POTIONSMITH_ADRENALINE_SERUM</requirements>
        <description>
            <p><em>Prerequisite: 15th level Inventor, Adrenaline Serum</em></p>
            <p>While under the effect of Adrenaline Serum, you can attack twice, instead of once, whenever you take the Attack action on your turn.</p>
        </description>
        <sheet>
            <description>While under the effect of Adrenaline Serum, you can attack twice, instead of once, whenever you take the Attack action on your turn.</description>
        </sheet>
    </element>

    <!--WARSMITH UPGRADES-->

    <element name="Adaptable Armor" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_ADAPTABLE_ARMOR">
        <supports>Specialization Upgrade, Warsmith, Unrestricted</supports>
        <description>
            <p>You integrate deployable hooks and fins into your armor, augmenting its mobility. While wearing your armor you gain a climbing speed equal to your walking speed, and you can move up, down, and across vertical surfaces and upside down along ceilings, while leaving your hands free.</p>
            <p class="indent">Additionally, you gain a swim speed equal to your walking speed.</p>
        </description>
        <sheet>
            <description>While wearing your armor you gain a climbing speed equal to your walking speed, and you can move up, down, and across vertical surfaces and upside down along ceilings, while leaving your hands free. Additionally, you gain a swim speed equal to your walking speed.</description>
        </sheet>
        <rules>
            <stat name="speed:climb" value="speed" bonus="base" />
            <stat name="speed:swim" value="speed" bonus="base" />
        </rules>
    </element>

    <element name="Assume Control" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_ASSUME_CONTROL">
        <supports>Specialization Upgrade, Warsmith</supports>
        <prerequisite>9th level, Emergency Protocol</prerequisite>
        <requirements>[level:9], ID_KTH_INVENTOR_UPGRADE_WARSMITH_EMERGENCY_PROTOCOL</requirements>
        <description>
            <p><em>Prerequisite: 9th level, Emergency Protocol</em></p>
            <p>You expanded the control available to your armor's sentience. You can set additional conditions when your armor will take control of your movement and actions, and can maintain this control of up to a 1 minute.</p>
            <p class="indent">While acting in this mode, it can take any action you could take (including attacking), but can only cast spells granted by Upgrades. It uses your ability scores.</p>
            <p class="indent">The triggering event can by a preset condition, a verbal command, or a specified time. Your armor is immune to the charmed, blinded, frightened, paralyzed, and poisoned conditions, and does not suffer from exhaustion, ignoring these effects if you are under them.</p>
            <p class="indent">If you have Warplate, it can act in this way even when you are not wearing it (or dead). When doing so, it uses the game statistics of animated armor with the following modifications:</p>
            <ul>
                <li>It has an intelligence of 12.</li>
                <li>It can cast any spells that come from Upgrades with a DC equal to your spell save DC.</li>
            </ul>
            <p class="indent">This counts as a use of your Emergency Protocol, and it cannot control the armor again (in either way) until you complete a short or long rest.</p>
            <p class="indent">In non-combat situations in which you are not wearing your armor, it can exert a lesser control of the armor to move it about and perform simple tasks. During this time it has the statistics of an unseen servant, though it looks like your suit of armor. It's ability to do this is not limited, but it takes 1 minute to assume this kind of control of your armor, and it can only do so while you are not wearing it.</p>
        </description>
        <sheet>
            <description requirements="![warsmith:warplate:1]">You can set additional conditions when your armor will take control of your movement and actions, and can maintain this control of up to a 1 minute. While acting in this mode, it can take any action you could take (including attacking), but can only cast spells granted by Upgrades. It uses your ability scores. The triggering event can by a preset condition, a verbal command, or a specified time. Your armor is immune to the charmed, blinded, frightened, paralyzed, and poisoned conditions, and does not suffer from exhaustion, ignoring these effects if you are under them. This counts as a use of your Emergency Protocol, and it cannot control the armor again (in either way) until you complete a short or long rest. In non-combat situations in which you are not wearing your armor, it can exert a lesser control of the armor to move it about and perform simple tasks. During this time it has the statistics of an unseen servant, though it looks like your suit of armor. It's ability to do this is not limited, but it takes 1 minute to assume this kind of control of your armor, and it can only do so while you are not wearing it.</description>
            <description requirements="[warsmith:warplate:1]">You can set additional conditions when your armor will take control of your movement and actions, and can maintain this control of up to a 1 minute. While acting in this mode, it can take any action you could take (including attacking), but can only cast spells granted by Upgrades. It uses your ability scores. The triggering event can by a preset condition, a verbal command, or a specified time. Your armor is immune to the charmed, blinded, frightened, paralyzed, and poisoned conditions, and does not suffer from exhaustion, ignoring these effects if you are under them. This counts as a use of your Emergency Protocol, and it cannot control the armor again (in either way) until you complete a short or long rest. In non-combat situations in which you are not wearing your armor, it can exert a lesser control of the armor to move it about and perform simple tasks. During this time it has the statistics of an unseen servant, though it looks like your suit of armor. It's ability to do this is not limited, but it takes 1 minute to assume this kind of control of your armor, and it can only do so while you are not wearing it.
            Your Warplate can act in this way even when you are not wearing it (or dead). When doing so, it uses the game statistics of animated armor with the following modifications: It has an intelligence of 12; It can cast any spells that come from Upgrades with a DC equal to your spell save DC.</description>
        </sheet>
    </element>

    <element name="Barrier Capacitor" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_BARRIER_CAPACITOR">
        <supports>Specialization Upgrade, Warsmith</supports>
        <prerequisite>11th level, Incompatible with other Capacitors</prerequisite>
        <requirements>[level:11], ![has capacitor:1]</requirements>
        <description>
            <p><em>Prerequisite: 11th level, Incompatible with other Capacitors</em></p>
            <p>You can store up arcane energy, discharging it in the form of a protective barrier. As an action you can cast <em>wall of force</em> without expending a spell slot or charges. You can use an action to reorient or move the wall up to your movement speed, but the movement is not strong enough to cause any damage.</p>
            <p class="indent">If a creature would be moved by the barrier it can make a Strength check against a Spellcasting ability check, stopping the wall on a successful check.</p>
            <p class="indent">Once you use this upgrade, you cannot use it again until you complete a long rest.</p>
            <div class="reference">
                <div element="ID_PHB_SPELL_WALL_OF_FORCE" />
            </div>
        </description>
        <sheet>
            <description usage="1/Long rest">As an action you can cast wall of force without expending a spell slot or charges. You can use an action to reorient or move the wall up to your movement speed, but the movement is not strong enough to cause any damage. If a creature would be moved by the barrier it can make a Strength check against a Spellcasting ability check, stopping the wall on a successful check.</description>
        </sheet>
        <rules>
            <grant type="Spell" id="ID_PHB_SPELL_WALL_OF_FORCE" />
            <stat name="has capacitor" value="1" />
        </rules>
    </element>

    <element name="Contingent Response" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_CONTINGENT_RESPONSE">
        <supports>Specialization Upgrade, Warsmith, Unrestricted</supports>
        <prerequisite>Sentient Armor</prerequisite>
        <requirements>ID_KTH_INVENTOR_UPGRADE_WARSMITH_SENTIENT_ARMOR</requirements>
        <description>
            <p><em>Prerequisite: Sentient Armor</em></p>
            <p>Choose a spell of 2nd level that you can cast, that has a casting time of 1 action, and that can target you. You cast that spell, expending a spell slot, but the spell doesn't come into effect. Instead, it takes effect when a certain circumstance occurs.</p>
            <p class="indent">The spell takes effect immediately after the circumstance is met for the first time, whether or not you want it to, and then contingency ends.</p>
            <p class="indent">You can only have one spell prepared to go off in this way. Preparing a new one immediately ends the effect of the last one.</p>
        </description>
        <sheet>
            <description>Choose a spell of 2nd level that you can cast, that has a casting time of 1 action, and that can target you. You cast that spell, expending a spell slot, but the spell doesn't come into effect. Instead, it takes effect when a certain circumstance occurs. The spell takes effect immediately after the circumstance is met for the first time, whether or not you want it to, and then contingency ends. You can only have one spell prepared to go off in this way. Preparing a new one immediately ends the effect of the last one.</description>
        </sheet>
    </element>

    <element name="Extendable Arm" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_EXTENDABLE_ARM">
        <supports>Specialization Upgrade, Warsmith, Unrestricted</supports>
        <prerequisite>Integrated Armor</prerequisite>
        <requirements>[warsmith:integratedarmor:1]</requirements>
        <description>
            <p><em>Prerequisite: Integrated Armor</em></p>
            <p>As a bonus action, you can extend your arms reach until the end of your turn. Your melee weapon attacks gain the reach property until the end of your turn.</p>
        </description>
        <sheet>
            <description action="Bonus Action">Your melee weapon attacks gain the reach property until the end of your turn.</description>
        </sheet>
    </element>

    <element name="Iron Fortitude" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_IRON_FORTITUDE">
        <supports>Specialization Upgrade, Warsmith, Unrestricted</supports>
        <prerequisite>Integrated Armor</prerequisite>
        <requirements>[warsmith:integratedarmor:1]</requirements>
        <description>
            <p><em>Prerequisite: Integrated Armor</em></p>
            <p>You gain an unnatural durability. When damage reduces you to 0 hit points, you make Constitution saving throw with a DC of 5 + the damage taken, unless the damage from a critical hit. On a success, you drop to 1 hit point instead.</p>
        </description>
        <sheet>
            <description>When damage reduces you to 0 hit points, you make Constitution saving throw with a DC of 5 + the damage taken, unless the damage from a critical hit. On a success, you drop to 1 hit point instead.</description>
        </sheet>
    </element>

    <element name="Hyperspace Arsenal" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_HYPERSPACE_ARSENAL">
        <supports>Specialization Upgrade, Warsmith</supports>
        <prerequisite>19th level, Recall</prerequisite>
        <requirements>ID_KTH_INVENTOR_UPGRADE_WARSMITH_RECALL, [level:19]</requirements>
        <description>
            <p><em>Prerequisite: 19th level, Recall</em></p>
            <p>You expand the pocket dimension to store multiple sets of Wargear, as well as up to 100 lbs of weapons or items. As a bonus action, you can conjure and equip any weapon or item stored in the pocket dimension. Additionally, you can swap out your attuned Wargear for another set of Wargear with this upgrade in the pocket dimension during this bonus action, as long as it also has this upgrade, instantly unattuning to the set you were wearing and attuning to the new set. Once you swap your Wargear using this feature, you cannot do so again until you complete a short or long rest.</p>
        </description>
        <sheet>
            <description action="Bonus Action" usage="1/Short rest">You expand the pocket dimension to store multiple sets of Wargear, as well as up to 100 lbs of weapons or items. As a bonus action, you can conjure and equip any weapon or item stored in the pocket dimension. Additionally, you can swap out your attuned Wargear for another set of Wargear with this upgrade in the pocket dimension during this bonus action, as long as it also has this upgrade, instantly unattuning to the set you were wearing and attuning to the new set. Once you swap your Wargear using this feature, you cannot do so again until you complete a short or long rest.</description>
        </sheet>
    </element>

    <element name="Powered Nervous System" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_POWERED_NERVOUS_SYSTEM">
        <supports>Specialization Upgrade, Warsmith, Unrestricted</supports>
        <prerequisite>Integrated Armor, Resistance: Lightning</prerequisite>
        <requirements>[warsmith:integratedarmor:1], ID_INTERNAL_CONDITION_DAMAGE_RESISTANCE_LIGHTNING</requirements>
        <description>
            <p><em>Prerequisite: Integrated Armor, Resistance: Lightning</em></p>
            <p>Once per turn when you take or deal lightning damage, you gain a d4. You can add this d4 to your next attack roll or saving throw before the end of your next turn. You can only have one d4 from this ability at a time. If you gain another d4 while you already have one, you immediately roll it and gain temporary hit points equal to the amount rolled.</p>
        </description>
        <sheet>
            <description>Once per turn when you take or deal lightning damage, you gain a d4. You can add this d4 to your next attack roll or saving throw before the end of your next turn. You can only have one d4 from this ability at a time. If you gain another d4 while you already have one, you immediately roll it and gain temporary hit points equal to the amount rolled.</description>
        </sheet>
    </element>

    <element name="Construct Constitution" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_CONSTRUCT_CONSTITUTION">
        <supports>Specialization Upgrade, Warsmith, Unrestricted</supports>
        <prerequisite>Integrated Armor</prerequisite>
        <requirements>[warsmith:integratedarmor:1]</requirements>
        <description>
            <p><em>Prerequisite: Integrated Armor</em></p>
            <p>You gain resistance to poison damage and immunity to the poisoned condition. You have advantage on saving throws against diseases as well as spell effects that require a "humanoid" target.</p>
        </description>
        <sheet>
            <description>You gain resistance to poison damage and immunity to the poisoned condition. You have advantage on saving throws against diseases as well as spell effects that require a "humanoid" target.</description>
        </sheet>
        <rules>
            <grant type="Condition" id="ID_INTERNAL_CONDITION_DAMAGE_RESISTANCE_POISON" />
        </rules>
    </element>

    <element name="Wire Acrobatics" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_WIRE_ACROBATICS">
        <supports>Specialization Upgrade, Warsmith, Unrestricted</supports>
        <prerequisite>Warsuit, Grappling Reel</prerequisite>
        <requirements>[warsmith:warsuit:1], ID_KTH_INVENTOR_UPGRADE_WARSMITH_GRAPPLING_REEL</requirements>
        <description>
            <p><em>Prerequisite: Warsuit, Grappling Reel</em></p>
            <p>You can take your movement using your grappling reel instead of using it as an attack or action; you can only move yourself when using the grappling reel in this way.</p>
            <p class="indent">Attacks of opportunity generated by movement with your grappling reel are made with disadvantage.</p>
        </description>
        <sheet>
            <description>You can take your movement using your grappling reel instead of using it as an attack or action; you can only move yourself when using the grappling reel in this way. Attacks of opportunity generated by movement with your grappling reel are made with disadvantage.</description>
        </sheet>
    </element>

    <element name="Mechanical Overdrive" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_IRON_CONSTITUTION">
        <supports>Specialization Upgrade, Warsmith, Unrestricted</supports>
        <prerequisite>Integrated Armor</prerequisite>
        <requirements>[warsmith:integratedarmor:1]</requirements>
        <description>
            <p><em>Prerequisite: Integrated Armor</em></p>
            <p>You overlord your integrated armor, driving you superhuman speeds. You can use this upgrade to cast <em>haste</em> targeting yourself. When you cast haste in this way, you have advantage on concentration checks to maintain it, but at the end of each of your turns take 1d4 fire damage that cannot be resisted from overheating.</p>
            <div class="reference">
                <div element="ID_PHB_SPELL_HASTE" />
            </div>
        </description>
        <sheet>
            <description>You can use this upgrade to cast <em>haste</em> targeting yourself. When you cast haste in this way, you have advantage on concentration checks to maintain it, but at the end of each of your turns take 1d4 fire damage that cannot be resisted from overheating.</description>
            <rules>
                <grant type="Spell" id="ID_PHB_SPELL_HASTE" />
            </rules>
        </sheet>
    </element>

    <element name="Searing Shell" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_SEARING_SHELL">
        <supports>Specialization Upgrade, Warsmith, Unrestricted</supports>
        <prerequisite>Resistance: Fire</prerequisite>
        <requirements>ID_INTERNAL_CONDITION_DAMAGE_RESISTANCE_FIRE</requirements>
        <description>
            <p><em>Prerequisite: Resistance: Fire</em></p>
            <p>As a bonus action, you can heat your armor to searing temperatures. Anything grappling, restraining, or otherwise holding onto you within 5 feet takes Fire damage equal to your Intelligence modifier. You can end this at the start of your turn (no action required). Whenever you end your turn with this active, you take 1 fire damage that cannot be resisted.</p>
            <p class="indent">You can fully ignite your armor and cast <em>fire shield</em> without consuming a spell slot. When cast with this upgrade, you can only select the fire damage option. Once you cast it in this way, you cannot cast it again until you complete a long rest.</p>
            <div class="reference">
                <div element="ID_PHB_SPELL_FIRE_SHIELD" />
            </div>
        </description>
        <sheet>
            <description action="Bonus Action">As a bonus action, you can heat your armor to searing temperatures. Anything grappling, restraining, or otherwise holding onto you within 5 feet takes Fire damage equal to your Intelligence modifier. You can end this at the start of your turn (no action required). Whenever you end your turn with this active, you take 1 fire damage that cannot be resisted.
            You can fully ignite your armor and cast fire shield without consuming a spell slot. When cast with this upgrade, you can only select the fire damage option. Once you cast it in this way, you cannot cast it again until you complete a long rest.</description>
        </sheet>
        <rules>
            <grant type="Spell" id="ID_PHB_SPELL_FIRE_SHIELD" />
        </rules>
    </element>

    <element name="Vice Grip" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_VICE_GRIP">
        <supports>Specialization Upgrade, Warsmith, Unrestricted</supports>
        <description>
            <p>You upgrade the arm that your warplate gauntlet is installed with crushing power. If a creature ends turn while grappled by your Warplate Gauntlet, it takes damage equal to your Strength modifier.</p>
        </description>
        <sheet>
            <description>If a creature ends turn while grappled by your Warplate Gauntlet, it takes {{strength:modifier}} damage.</description>
        </sheet>
    </element>

    <element name="Earth Projector" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_EARTH_PROJECTOR">
        <supports>Specialization Upgrade, Warsmith, Unrestricted</supports>
        <description>
            <p>You gain the ability of elemental control of earth. While wearing your Warplate Gauntlet, you can cast <em>magic stone</em>, and gain access to the following spells at the following levels while wearing your Warplate Gauntlet:</p>
            <table>
                <thead>
                    <tr><td>Inventor Level</td><td>Spell</td></tr>
                </thead>
                <tr><td>3rd</td><td>earth tremor</td></tr>
                <tr><td>5th</td><td>earthbind</td></tr>
                <tr><td>9th</td><td>erupting earth</td></tr>
                <tr><td>13th</td><td>orbital stones</td></tr>
                <tr><td>17th</td><td>fissure</td></tr> 
            </table>
            <div class="reference">
                <div element="ID_XGTE_SPELL_MAGIC_STONE" />
            </div>
            <div class="reference">
                <div element="ID_XGTE_SPELL_EARTH_TREMOR" />
            </div>
            <div class="reference">
                <div element="ID_XGTE_SPELL_EARTHBIND" />
            </div>
            <div class="reference">
                <div element="ID_XGTE_SPELL_ERUPTING_EARTH" />
            </div>
            <div class="reference">
                <div element="ID_KTH_INVENTOR_SPELL_ORBITAL_STONES" />
            </div>
            <div class="reference">
                <div element="ID_KTH_GS_SPELL_FISSURE" />
            </div>
        </description>
        <sheet>
            <description>While wearing your Warplate Gauntlet, you can cast <em>magic stone</em>, and gain access to additional spells at later levels.</description>
        </sheet>
        <rules>
            <grant type="Spell" id="ID_XGTE_SPELL_MAGIC_STONE" spellcasting="Inventor" />
            <grant type="Spell" id="ID_XGTE_SPELL_EARTH_TREMOR" level="3" spellcasting="Inventor" />
            <grant type="Spell" id="ID_XGTE_SPELL_EARTHBIND" level="5" spellcasting="Inventor" />
            <grant type="Spell" id="ID_XGTE_SPELL_ERUPTING_EARTH" level="9" spellcasting="Inventor" />
            <grant type="Spell" id="ID_KTH_INVENTOR_SPELL_ORBITAL_STONES" level="13" spellcasting="Inventor" />
            <grant type="Spell" id="ID_KTH_GS_SPELL_FISSURE" level="17" spellcasting="Inventor" />
        </rules>
    </element>

    <element name="Water Projector" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_WATER_PROJECTOR">
        <supports>Specialization Upgrade, Warsmith, Unrestricted</supports>
        <description>
            <p>You gain the ability to elemental control of water. While wearing your Warplate Gauntlet, you can cast <em>ray of frost</em>, and gain access to the following spells at the following levels while wearing your Warplate Gauntlet:</p>
            <table>
                <thead>
                    <tr><td>Inventor Level</td><td>Spell</td></tr>
                </thead>
                <tr><td>3rd</td><td>water blast</td></tr> 
                <tr><td>5th</td><td>dancing wave</td></tr>
                <tr><td>9th</td><td>water cannon</td></tr>
                <tr><td>13th</td><td>watery sphere</td></tr>
                <tr><td>17th</td><td>pressure cutter</td></tr>
            </table>
            <div class="reference">
                <div element="ID_PHB_SPELL_RAY_OF_FROST" />
            </div>
            <div class="reference">
                <div element="ID_KTH_GS_SPELL_WATER_BLAST" />
            </div>
            <div class="reference">
                <div element="ID_KTH_GS_SPELL_DANCING_WAVE" /> 
            </div>
            <div class="reference">
                <div element="ID_KTH_GS_SPELL_WATER_CANNON" /> 
            </div>
            <div class="reference">
                <div element="ID_XGTE_SPELL_WATERY_SPHERE" />
            </div>
            <div class="reference">
                <div element="ID_KTH_GS_SPELL_PRESSURE_CUTTER" /> 
            </div>
        </description>
        <sheet>
            <description>While wearing your Warplate Gauntlet, you can cast ray of frost, and gain access to additional spells at later levels.</description>
        </sheet>
        <rules>
            <grant type="Spell" id="ID_PHB_SPELL_RAY_OF_FROST" spellcasting="Inventor" />
            <grant type="Spell" id="ID_KTH_GS_SPELL_WATER_BLAST" level="3" spellcasting="Inventor" />
            <grant type="Spell" id="ID_KTH_GS_SPELL_DANCING_WAVE" level="5" spellcasting="Inventor" />
            <grant type="Spell" id="ID_KTH_GS_SPELL_WATER_CANNON" level="9" spellcasting="Inventor" />
            <grant type="Spell" id="ID_XGTE_SPELL_WATERY_SPHERE" level="13" spellcasting="Inventor" />
            <grant type="Spell" id="ID_KTH_GS_SPELL_PRESSURE_CUTTER" level="17" spellcasting="Inventor" />
        </rules>
    </element>

    <element name="Ice Projector" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_ICE_PROJECTOR">
        <supports>Specialization Upgrade, Warsmith, Unrestricted</supports>
        <description>
            <p>You gain the ability to elemental control of water. While wearing your Warplate Gauntlet, you can cast <em>ray of frost,</em> and gain access to the following spells at the following levels while wearing your Warplate Gauntlet:</p>
            <table>
                <thead>
                    <tr><td>Inventor Level</td><td>Spell</td></tr>
                </thead>
                <tr><td>3rd</td><td>arctic breath</td></tr> 
                <tr><td>5th</td><td>cold snap</td></tr>
                <tr><td>9th</td><td>flash freeze</td></tr>
                <tr><td>13th</td><td>ice storm</td></tr>
                <tr><td>17th</td><td>cone of cold</td></tr>
            </table>
            <div class="reference">
                <div element="ID_PHB_SPELL_RAY_OF_FROST" />
            </div>
            <div class="reference">
                <div element="ID_KTH_GS_SPELL_ARCTIC_BREATH" /> 
            </div>
            <div class="reference">
                <div element="ID_KTH_GS_SPELL_COLD_SNAP" /> 
            </div>
            <div class="reference">
                <div element="ID_KTH_GS_SPELL_FLASH_FREEZE" /> 
            </div>
            <div class="reference">
                <div element="ID_PHB_SPELL_ICE_STORM" /> 
            </div>
            <div class="reference">
                <div element="ID_PHB_SPELL_CONE_OF_COLD" /> 
            </div>
        </description>
        <sheet>
            <description>While wearing your Warplate Gauntlet, you can cast ray of frost, and gain access to additional spells at later levels.</description>
        </sheet>
        <rules>
            <grant type="Spell" id="ID_PHB_SPELL_RAY_OF_FROST" spellcasting="Inventor" />
            <grant type="Spell" id="ID_KTH_GS_SPELL_ARCTIC_BREATH" level="3" spellcasting="Inventor" />
            <grant type="Spell" id="ID_KTH_GS_SPELL_COLD_SNAP" level="5" spellcasting="Inventor" />
            <grant type="Spell" id="ID_KTH_GS_SPELL_FLASH_FREEZE" level="9" spellcasting="Inventor" />
            <grant type="Spell" id="ID_PHB_SPELL_ICE_STORM" level="13" spellcasting="Inventor" />
            <grant type="Spell" id="ID_PHB_SPELL_CONE_OF_COLD" level="17" spellcasting="Inventor" />
        </rules>
    </element>

    <element name="Piloted Golem" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_PILOTED_GOLEM">
        <supports>Specialization Upgrade, Warsmith</supports>
        <prerequisite>9th level, Warplate, Incompatible with Collapsible</prerequisite>
        <requirements>[level:9], [warsmith:warplate:1], !ID_KTH_INVENTOR_UPGRADE_WARSMITH_ACTIVE_COLLAPSIBLE</requirements>
        <description>
            <p><em>Prerequisite: 9th level, Warplate, Incompatible with Collapsible</em></p>
            <p>You enlarge your Warplate, turning it into a piloted mechanical golem. Your size category when wearing the armor increases by one.</p>
            <p class="indent">You have advantage on Strength saving throws and Strength checks against creatures the same size as you or smaller than you, but you You have disadvantage on Dexterity savings throws and ability checks (including initiative checks). At the end of a short or long rest, your Warplate gains temporary hit points equal to your Inventor level.</p>
            <p class="indent">You are no longer a valid target for spells that require a humanoid target, but can be targeted by spells that require a construct target while wearing this armor.</p>
        </description>
        <sheet>
            <description>You enlarge your Warplate, turning it into a piloted mechanical golem. Your size category when wearing the armor increases by one. You have advantage on Strength saving throws and Strength checks against creatures the same size as you or smaller than you, but you You have disadvantage on Dexterity savings throws and ability checks (including initiative checks). At the end of a short or long rest, your Warplate gains {{level:inventor}} temporary hit points. You are no longer a valid target for spells that require a humanoid target, but can be targeted by spells that require a construct target while wearing this armor.</description>
        </sheet>
    </element>

    <element name="Self-Repair Matrix" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_SELF_REPAIR_MATRIX">
        <supports>Specialization Upgrade, Warsmith, Unrestricted</supports>
        <prerequisite>Ablative Armor</prerequisite>
        <requirements>ID_KTH_INVENTOR_UPGRADE_WARSMITH_ABLATIVE_ARMOR</requirements>
        <description>
            <p><em>Prerequisite: Ablative Armor</em></p>
            <p>At the start of each turn, if you have no temporary hit points, you gain temporary hit points equal your proficiency modifier.</p>
        </description>
        <sheet>
            <description>At the start of each turn, if you have no temporary hit points, you gain {{proficiency}} temporary hit points.</description>
        </sheet>
    </element>

    <element name="Shield Arm" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_SHIELD_ARM">
        <supports>Specialization Upgrade, Warsmith, Unrestricted</supports>
        <prerequisite>Piloted Golem</prerequisite>
        <requirements>ID_KTH_INVENTOR_UPGRADE_WARSMITH_PILOTED_GOLEM</requirements>
        <description>
            <p><em>Prerequisite: Piloted Golem</em></p>
            <p>You integrate a shield into one of your armor's arms. You have proficiency with that shield, and can deploy it as a bonus action. It requires the use of that arm while deployed. When shove a medium or smaller creature, you can shove it by slaming it with the attached shield causing it to take damage equal to your Strength modifier.</p>
        </description>
        <sheet>
            <description>You integrate a shield into one of your armor's arms. You have proficiency with that shield, and can deploy it as a bonus action. It requires the use of that arm while deployed. When shove a medium or smaller creature, you can shove it by slaming it with the attached shield causing it to take {{strength:modifier}} damage.</description>
        </sheet>
    </element>

    <element name="Iron Fortress" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_WARSMITH_IRON_FORTRESS">
        <supports>Specialization Upgrade, Warsmith, Unrestricted</supports>
        <prerequisite>Piloted Golem</prerequisite>
        <requirements>ID_KTH_INVENTOR_UPGRADE_WARSMITH_PILOTED_GOLEM</requirements>
        <description>
            <p><em>Prerequisite: Piloted Golem</em></p>
            <p>You count as three quarters cover for creatures within 5 feet (so long as you are between them and the attacker). Additionally, you cannot be moved against your will while in contact with the ground.</p>
        </description>
        <sheet>
            <description>You count as three quarters cover for creatures within 5 feet (so long as you are between them and the attacker). Additionally, you cannot be moved against your will while in contact with the ground.</description>
        </sheet>
    </element>
    
    <element name="Variant Warsuit" type="Armor" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_ARMOR_WARSUIT_V">
		<supports>ID_INTERNAL_ARMOR_GROUP_MEDIUM</supports>
		<description>
			<p>A magically enhanced set of gear.</p>
		</description>
		<setters>
			<set name="category">Armor</set>
			<set name="cost" currency="gp">2000</set>
			<set name="weight" lb="20">20 lb.</set>
			<set name="slot">body</set>
			<set name="armor">Medium</set>
			<set name="armorClass">14 + Dex modifier (max 2)</set>
            <set name="attunement">true</set>
			<set name="proficiency">ID_PROFICIENCY_ARMOR_PROFICIENCY_KTH_WARSUIT</set>
		</setters>
		<rules>
            <stat name="ac:armored:armor" value="14" />
            <select type="Class Feature" name="Specialization Upgrade (Variant Warsuit)" supports="Specialization Upgrade, Warsmith, Specialized Armor" />
            <stat name="warsmith:warsuit" value="1" />
		</rules>
	</element>

    <element name="Integrated Armor (Variant)" type="Armor" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_ARMOR_INTEGRATED_ARMOR_V">
		<supports>ID_INTERNAL_ARMOR_GROUP_MEDIUM</supports>
		<description>
			<p>You magically integrate your armor into your own body. Integrated armor cannot be removed, but does not confer any penalty when resting in it.</p>
            <p>While wearing this armor, you count as one size larger when determining your carrying capacity and the weight you can push, drag, or lift.</p>
		</description>
		<setters>
			<set name="category">Armor</set>
			<set name="cost" currency="gp">2000</set>
			<set name="weight" lb="0">0 lb.</set>
			<set name="slot">body</set>
			<set name="armor">Medium</set>
			<set name="armorClass">14 + Dex modifier (max 2)</set>
            <set name="attunement">true</set>
			<set name="proficiency">ID_PROFICIENCY_ARMOR_PROFICIENCY_KTH_INTEGRATED_ARMOR</set>
		</setters>
		<rules>
            <stat name="ac:armored:armor" value="14" />
            <grant type="Grants" id="ID_INTERNAL_GRANTS_WEIGHT_CAPACITY_COUNTS_AS_LARGER" />
            <select type="Class Feature" name="Specialization Upgrade (Variant Integrated Armor)" supports="Specialization Upgrade, Warsmith, Specialized Armor" />
            <stat name="warsmith:integratedarmor" value="1" />
		</rules>
	</element>

    <element name="Wargear" type="Armor" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_ARMOR_WARGEAR">
		<supports>ID_INTERNAL_ARMOR_GROUP_MEDIUM</supports>
		<description>
			<p>Medium, interlocking plates of magically-reinforced metal.</p>
            <p>While wearing Wargear armor, your Strength ability score increases by 2, and your maximum Strength ability score becomes 22. You count as one size larger when determining your carrying capacity and the weight you can push, drag, or lift.</p>
		</description>
		<setters>
			<set name="category">Armor</set>
			<set name="cost" currency="gp">2000</set>
			<set name="weight" lb="40">40 lb.</set>
			<set name="slot">body</set>
			<set name="armor">Medium</set>
			<set name="strength">-</set>
			<set name="stealth">Disadvantage</set>
			<set name="armorClass">15 + Dex modifier (max 2)</set>
            <set name="attunement">true</set>
			<set name="proficiency">ID_PROFICIENCY_ARMOR_PROFICIENCY_KTH_WARPLATE</set>
		</setters>
		<rules>
			<grant type="Grants" id="ID_INTERNAL_GRANTS_STEALTH_DISADVANTAGE" />
			<stat name="ac:armored:armor" value="15" />
            <grant type="Grants" id="ID_INTERNAL_GRANTS_WEIGHT_CAPACITY_COUNTS_AS_LARGER" />
            <stat name="strength" value="2" />
            <stat name="strength:max" value="2" />
            <stat name="warsmith:warplate" value="1" />
		</rules>
	</element>

    <element name="Wargear (Variant)" type="Armor" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_ARMOR_WARGEAR_V">
		<supports>ID_INTERNAL_ARMOR_GROUP_MEDIUM</supports>
		<description>
			<p>Medium, interlocking plates of magically-reinforced metal.</p>
            <p>While wearing Wargear armor, you count as one size larger when determining your carrying capacity and the weight you can push, drag, or lift.</p>
		</description>
		<setters>
			<set name="category">Armor</set>
			<set name="cost" currency="gp">2000</set>
			<set name="weight" lb="40">40 lb.</set>
			<set name="slot">body</set>
			<set name="armor">Medium</set>
			<set name="strength">-</set>
			<set name="stealth">Disadvantage</set>
			<set name="armorClass">15 + Dex modifier (max 2)</set>
            <set name="attunement">true</set>
			<set name="proficiency">ID_PROFICIENCY_ARMOR_PROFICIENCY_KTH_WARPLATE</set>
		</setters>
		<rules>
			<grant type="Grants" id="ID_INTERNAL_GRANTS_STEALTH_DISADVANTAGE" />
			<stat name="ac:armored:armor" value="15" />
            <grant type="Grants" id="ID_INTERNAL_GRANTS_WEIGHT_CAPACITY_COUNTS_AS_LARGER" />
            <select type="Class Feature" name="Specialization Upgrade (Variant Wargear)" supports="Specialization Upgrade, Warsmith, Specialized Armor" />
            <stat name="warsmith:warplate" value="1" />
		</rules>
	</element>
    
    <element name="Warskin" type="Armor" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_ARMOR_WARSKIN">
		<supports>ID_INTERNAL_ARMOR_GROUP_LIGHT</supports>
		<description>
			<p>A magically enhanced set of gear. While wearing Warskin armor, your Strength ability score increases by 2, and your maximum Strength ability score becomes 22.</p>
		</description>
		<setters>
			<set name="category">Armor</set>
			<set name="cost" currency="gp">2000</set>
			<set name="weight" lb="13">13 lb.</set>
			<set name="slot">body</set>
			<set name="armor">Light</set>
			<set name="armorClass">12 + Dex modifier</set>
            <set name="attunement">true</set>
			<set name="proficiency">ID_PROFICIENCY_ARMOR_PROFICIENCY_KTH_WARSUIT</set>
		</setters>
		<rules>
            <stat name="ac:armored:armor" value="14" />
            <stat name="strength" value="2" />
            <stat name="strength:max" value="2" />
            <stat name="warsmith:warsuit" value="1" />
		</rules>
	</element>

    <element name="Warskin (Variant)" type="Armor" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_ARMOR_WARSKIN_V">
		<supports>ID_INTERNAL_ARMOR_GROUP_LIGHT</supports>
		<description>
			<p>A magically enhanced set of gear.</p>
		</description>
		<setters>
			<set name="category">Armor</set>
			<set name="cost" currency="gp">2000</set>
			<set name="weight" lb="13">13 lb.</set>
			<set name="slot">body</set>
			<set name="armor">Light</set>
			<set name="armorClass">12 + Dex modifier</set>
            <set name="attunement">true</set>
			<set name="proficiency">ID_PROFICIENCY_ARMOR_PROFICIENCY_KTH_WARSUIT</set>
		</setters>
		<rules>
            <stat name="ac:armored:armor" value="14" />
            <select type="Class Feature" name="Specialization Upgrade (Variant Warskin)" supports="Specialization Upgrade, Warsmith, Specialized Armor" />
            <stat name="warsmith:warsuit" value="1" />
		</rules>
	</element>

    <element name="Iron Shell" type="Armor" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_ARMOR_IRON_SHELL">
		<supports>ID_INTERNAL_ARMOR_GROUP_HEAVY</supports>
		<description>
			<p>You magically integrate your armor into your own body. Integrated armor cannot be removed, but does not confer any penalty when resting in it.</p>
            <p>While wearing an Iron Shell, your Strength ability score increases by 2, and your maximum Strength ability score becomes 22. You count as one size larger when determining your carrying capacity and the weight you can push, drag, or lift.</p>
		</description>
		<setters>
			<set name="category">Armor</set>
			<set name="cost" currency="gp">2000</set>
			<set name="weight" lb="0">0 lb.</set>
			<set name="slot">body</set>
			<set name="armor">Heavy</set>
            <set name="stealth">Disadvantage</set>
			<set name="armorClass">18</set>
            <set name="attunement">true</set>
			<set name="proficiency">ID_PROFICIENCY_ARMOR_PROFICIENCY_KTH_INTEGRATED_ARMOR</set>
		</setters>
		<rules>
            <stat name="ac:armored:armor" value="18" />
            <grant type="Grants" id="ID_INTERNAL_GRANTS_WEIGHT_CAPACITY_COUNTS_AS_LARGER" />
            <grant type="Grants" id="ID_INTERNAL_GRANTS_STEALTH_DISADVANTAGE" />
            <stat name="strength" value="2" />
            <stat name="strength:max" value="2" />
            <stat name="warsmith:integratedarmor" value="1" />
		</rules>
	</element>

    <!--FLESHSMITH UPGRADES-->

    <element name="Perfection of Technique" type="Archetype Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_ARCHETYPE_FEATURE_FLESHSMITH_THESIS_OF_FLESH_TECHNIQUE">
        <supports>Thesis of Flesh</supports>
        <description>
            <p>Others may call themselves flesh smiths or flesh crafters, but you are a flesh artist. Flaying, dicing, deboning, you've mastered it all. When you select this thesis option, you gain proficiency with martial weapons and gain the <strong>Flaying Hook</strong> upgrade, and it does not count against your upgrade total. You can integrate your Flaying Hook into another weapon, attaching it's heavy chain to the hilt of your weapon, allowing you to attack with either weapon, and being considered to be carrying both when carrying one. Any magical bonus to attack and damage rolls the attached weapon has are also applied to the Flaying Hook (if higher).</p>
            <p class="indent">When you using your Flaying Hook to pull a target or pull yourself toward a target, you use your bonus action to make a single weapon attack against it. You can do this a number of times equal to your Inventor level and you regain all uses at the end of a long rest.</p>
        </description>
        <sheet>
            <description action="Bonus Action" usage="{{level:inventor}}/Long rest">You gain proficiency with martial weapons and gain the <strong>Flaying Hook</strong> upgrade, and it does not count against your upgrade total. You can integrate your Flaying Hook into another weapon, attaching it's heavy chain to the hilt of your weapon, allowing you to attack with either weapon, and being considered to be carrying both when carrying one. Any magical bonus to attack and damage rolls the attached weapon has are also applied to the Flaying Hook (if higher).
            When you using your Flaying Hook to pull a target or pull yourself toward a target, you use your bonus action to make a single weapon attack against it. You can do this {{level:inventor}} times and you regain all uses at the end of a long rest.</description>
        </sheet>
        <rules>
            <grant type="Class Feature" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_FLAYING_HOOK" />
        </rules>
    </element>

    <element name="Bathed in Blood" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_BATHED_IN_BLOOD">
        <supports>Specialization Upgrade, Fleshsmith</supports>
        <prerequisite>11th level, Flaying Hook</prerequisite>
        <requirements>ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_FLAYING_HOOK, [level:11]</requirements>
        <description>
            <p><em>Prerequisite: 11th level, Flaying Hook</em></p>
            <p>You can determine when a creature you can see within 30 feet is bloodied just be looking at it. Once per turn, when you deal damage to a bloodied creature with your Flaying Hook (including any weapon it is integrated to) or Butcher's Knack, that creature takes an additional 1d12 damage.</p>
        </description>
        <sheet>
            <description>You can determine when a creature you can see within 30 feet is bloodied just be looking at it. Once per turn, when you deal damage to a bloodied creature with your Flaying Hook (including any weapon it is integrated to) or Butcher's Knack, that creature takes an additional 1d12 damage.</description>
        </sheet>
    </element>

    <element name="Butcher's Knack" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_BUTCHERS_KNACK">
        <supports>Specialization Upgrade, Fleshsmith, Unrestricted</supports>
        <prerequisite>Perfection of Technique</prerequisite>
        <requirements>ID_KTH_INVENTOR_ARCHETYPE_FEATURE_FLESHSMITH_THESIS_OF_FLESH_TECHNIQUE</requirements>
        <description>
            <p><em>Prerequisite: Perfection of Technique</em></p>
            <p>Your skill with butchering allows you inflict brutal ones. Once per turn when you deal piercing or slashing damage to a creature that is not a construct or undead, you can inflict a rending wound on it. Any movement speed the target has is reduced by 5 feet.</p>
            <p class="indent">At the end of that creatures next turn, it makes a Constitution saving throw against your spell save DC, taking 1d8 slashing damage on failure. It has disadvantage on the saving throw if it used its movement during its turn. This damage is doubled if the it was inflicted by a critical hit.</p>
        </description>
        <sheet>
            <description usage="1/Turn">Once per turn when you deal piercing or slashing damage to a creature that is not a construct or undead, you can inflict a rending wound on it. Any movement speed the target has is reduced by 5 feet. At the end of that creatures next turn, it makes a Constitution saving throw against your spell save DC, taking 1d8 slashing damage on failure. It has disadvantage on the saving throw if it used its movement during its turn. This damage is doubled if the it was inflicted by a critical hit.</description>
        </sheet>
    </element>

    <element name="Death Flail" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_DEATH_FLAIL">
        <supports>Specialization Upgrade, Fleshsmith, Unrestricted</supports>
        <prerequisite>Perfection of Technique</prerequisite>
        <requirements>ID_KTH_INVENTOR_ARCHETYPE_FEATURE_FLESHSMITH_THESIS_OF_FLESH_TECHNIQUE</requirements>
        <description>
            <p><em>Prerequisite: Perfection of Technique</em></p>
            <p>Rather than cast out the Flaying Hook, you master the art of spinning your attacked martial weapon by the chain in windmill of death. Your weapon gains the Reach property when used in this way.</p>
            <p class="indent">Additionally, instead of attacking at target with it normally, as an action, you can spin the weapon wildly in giant deadly sweeps. Creatures within 10 feet (select four if there are more than four) must make a Dexterity saving throw against a DC of 8 + your Strength modifier + your proficiency bonus. On failure they take damage equal to your weapon damage dice + your Strength modifier of your weapons damage type.</p>
            <p class="indent">If you have the Spiked Chain upgrade and hit one or more targets, you can select one of them to be effected by the special property of Spiked Chain.</p>
        </description>
        <sheet>
            <description>Your weapon gains the Reach property when used in this way. Additionally, instead of attacking at target with it normally, as an action, you can spin the weapon wildly in giant deadly sweeps. Up to 4 creatures within 10 feet must make a Dexterity saving throw against a DC of {{deathflail:save}}. On failure they take damage equal to your weapon damage dice + {{strength:modifier}} of your weapons damage type. If you have the Spiked Chain upgrade and hit one or more targets, you can select one of them to be effected by the special property of Spiked Chain.</description>
        </sheet>
        <rules>
            <stat name="deathflail:save" value="8" />
            <stat name="deathflail:save" value="strength:modifier" />
            <stat name="deathflail:save" value="proficiency" />
        </rules>
    </element>

    <element name="Flaying Hook" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_FLAYING_HOOK">
        <supports>Specialization Upgrade, Fleshsmith, Unrestricted</supports>
        <description>
            <p>A metal hook attached to a chain. You a proficient with this weapon, and it has the Special property. It deals 1d6 piercing damage.</p>
            <p class="indent">Special: This weapon has a range of 20 feet. When you hit at a target that is more than 5 feet away from you, if the target is medium or smaller, you can make a Strength (Athletics) check contested by its Strength(Athletics) to pull the target toward you. On a successful check, a smaller or smaller target is pulled to you, and a medium target is pulled half the distance (rounding up) toward you. The creature takes 1 additional damage for each 5 feet it is pulled.</p>
            <p class="indent">If the creature is medium or larger, when hit a target more than 5 feet away from you you can pull yourself up to 10 feet toward the target.</p>
        </description>
        <sheet>
            <description>A metal hook attached to a chain. You a proficient with this weapon, and it has the Special property. It deals 1d6 piercing damage.
            Special: This weapon has a range of 20 feet. When you hit at a target that is more than 5 feet away from you, if the target is medium or smaller, you can make a Strength (Athletics) check contested by its Strength (Athletics) to pull the target toward you. On a successful check, a smaller or smaller target is pulled to you, and a medium target is pulled half the distance (rounding up) toward you. The creature takes 1 additional damage for each 5 feet it is pulled. If the creature is medium or larger, when hit a target more than 5 feet away from you you can pull yourself up to 10 feet toward the target.</description>
        </sheet>
    </element>

    <element name="Spiked Chain" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_SPIKED_CHAIN">
        <supports>Specialization Upgrade, Fleshsmith, Unrestricted</supports>
        <prerequisite>Flaying Hook</prerequisite>
        <requirements>ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_FLAYING_HOOK</requirements>
        <description>
            <p><em>Prerequisite: Flaying Hook</em></p>
            <p>You lace the chain of your Flaying Hook with spikes. When you attack a creature within 5 with your Flaying Hook, you can opt to make a Spiked Chain attack. This attack deals 2d4 piercing damage on hit, and has the Special property.</p>
            <p class="indent">Special: When you hit a creature with this weapon, that target loses 10 feet of movement (hindered by the chain) and takes 1d4 damage each time they move 5 feet, up to 2d4 damage (for 10 feet of movement). You cannot use your weapon against another creature until the start of your next turn, but have advantage on attacks of opportunity against the that target. If it does not move before the start of your next turn, you reel your chain back in, dealing 1d4 slashing damage to that target.</p>
        </description>
        <sheet>
            <description>When you attack a creature within 5 with your Flaying Hook, you can opt to make a Spiked Chain attack. This attack deals 2d4 piercing damage on hit, and has the Special property.
            Special: When you hit a creature with this weapon, that target loses 10 feet of movement (hindered by the chain) and takes 1d4 damage each time they move 5 feet, up to 2d4 damage (for 10 feet of movement). You cannot use your weapon against another creature until the start of your next turn, but have advantage on attacks of opportunity against the that target. If it does not move before the start of your next turn, you reel your chain back in, dealing 1d4 slashing damage to that target.</description>
        </sheet>
    </element>

    <element name="Perfection of Creation" type="Archetype Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_ARCHETYPE_FEATURE_FLESHSMITH_THESIS_OF_FLESH_CREATION">
        <supports>Thesis of Flesh</supports>
        <description>
            <p>Why let the gods have all the fun? You've created life. When you take this path, you gain the Adorable Critter upgrade, and it does not count against your upgrade total. Your Adorable Critter gains temporary hit points equal to your Inventor level + Intelligence modifier each time you complete a short or long rest.</p>
            <p class="indent">Your Adorable Critter gains a natural weapon dealing 1d6 + your Intelligence modifier piercing damage, though as normal it cannot normal take the attack action. As a bonus action, you can cause your Familiar to move up to 10 feet and take an attack action (requiring no action from the familiar).</p>
        </description>
        <sheet>
            <description action="Bonus Action">When you take this path, you gain the Adorable Critter upgrade, and it does not count against your upgrade total. Your Adorable Critter gains {{adorable critter:bonus hp}} temporary hit points each time you complete a short or long rest.
            Your Adorable Critter gains a natural weapon dealing 1d6 + {{intelligence:modifier}} piercing damage, though as normal it cannot normal take the attack action. As a bonus action, you can cause your Familiar to move up to 10 feet and take an attack action (requiring no action from the familiar).</description>
        </sheet>
        <rules>
            <grant type="Class Feature" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_ADORABLE_CRITTER" /> 
            <stat name="adorable critter:bonus hp" value="level:inventor" />
            <stat name="adorable critter:bonus hp" value="intelligence:modifier" />
        </rules>
    </element>

    <element name="Corrosive Critter?!" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_CORROSIVE_CRITTER">
        <supports>Specialization Upgrade, Fleshsmith</supports>
        <prerequisite>5th level, Perfection of Creation</prerequisite>
        <requirements>[level:5], ID_KTH_INVENTOR_ARCHETYPE_FEATURE_FLESHSMITH_THESIS_OF_FLESH_CREATION</requirements>
        <description>
            <p><em>Prerequisite: 5th level, Perfection of Creation</em></p>
            <p>Your adorable critters natural weapon deals an additional 1d6 acid damage on hit.</p>
        </description>
        <sheet>
            <description>Your adorable critters natural weapon deals an additional 1d6 acid damage on hit.</description>
        </sheet>
    </element>

    <element name="...Adorable Critter?" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_DOTDOTDOT_ADORABLE_CRITTER">
        <supports>Specialization Upgrade, Fleshsmith</supports>
        <prerequisite>11th level, Perfection of Creation</prerequisite>
        <requirements>[level:11], ID_KTH_INVENTOR_ARCHETYPE_FEATURE_FLESHSMITH_THESIS_OF_FLESH_CREATION</requirements>
        <description>
            <p><em>Prerequisite: 11th level, Perfection of Creation</em></p>
            <p>As an action, your familiar can become small, medium, or large. It can revert to its normal size as a bonus action. While Medium or larger, it's natural weapon deals 1d12 + your intelligence modifier piercing damage. Its strength ability score increases by 4 for each size category large it becomes, to a maximum of 18.</p>
        </description>
        <sheet>
            <description action="Action">As an action, your familiar can become small, medium, or large. It can revert to its normal size as a bonus action. While Medium or larger, it's natural weapon deals 1d12 + {{intelligence:modifier}} piercing damage. Its strength ability score increases by 4 for each size category large it becomes, to a maximum of 18.</description>
        </sheet>
    </element>

    <element name="Acid Gland" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_ACID_GLAND">
        <supports>Specialization Upgrade, Fleshsmith</supports>
        <prerequisite>5th level</prerequisite>
        <requirements>[level:5]</requirements>
        <description>
            <p><em>Prerequisite: 5th level</em></p>
            <p>Realizing that putting something that oozes acid inside yourself could not possible go wrong, you do just that. You gain a pool of d4s equal to your Constitution modifier. As a bonus action, you can expend an amount of these d4s, adding them to the next damage roll you make with a natural weapon before the end of your turn. The pool of d4s recharge at the end of a short or long rest.</p>
            <p class="indent">Additionally, you learn the <em>acid splash</em> cantrip. When casting it using this upgrade, it does not require verbal or somatic components and you can use your Constitution as your spell casting modifier for it instead of your Intelligence modifier. </p>
            <p class="indent">You can expend the d4s granted by Acid Gland on the damage roll of acid splash, following the same restrictions as natural weapons.</p>
            <div class="reference">
                <div element="ID_PHB_SPELL_ACID_SPLASH" />
            </div>
        </description>
        <sheet>
            <description usage="{{constitution:modifier}}/Short rest" action="Bonus Action">You gain a pool of {{constitution:modifier}} d4s. As a bonus action, you can expend an amount of these d4s, adding them to the next damage roll you make with a natural weapon before the end of your turn. The pool of d4s recharge at the end of a short or long rest. Additionally, you learn the <em>acid splash</em> cantrip. When casting it using this upgrade, it does not require verbal or somatic components and you can use your Constitution as your spell casting modifier for it instead of your Intelligence modifier. You can expend the d4s granted by Acid Gland on the damage roll of acid splash, following the same restrictions as natural weapons.</description>
        </sheet>
        <rules>
            <grant type="Spell" id="ID_PHB_SPELL_ACID_SPLASH" spellcasting="Inventor" />
            <stat name="mutation:upgrade" value="1" />
        </rules>
    </element>

    <element name="Amalgamated Form" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_AMALGAMATED_FORM">
        <supports>Specialization Upgrade, Fleshsmith</supports>
        <prerequisite>9th level</prerequisite>
        <requirements>[level:9]</requirements>
        <description>
            <p><em>Prerequisite: 9th level</em></p>
            <p>You modify yourself to gain a racial ability of another race. This can be used to gain one physical trait of a playable race, both in form and function. For example, adding the lower body of centaur may give you their movement, hooves, and poor climbing ability.</p>
            <p class="indent">This can include physiology and physical traits, including natural weapons, movement speed, physical senses, or special properties relating to physical features. Select a trait from the following table:</p>
            <table>
                <thead>
                    <tr><td>Race/Part</td><td>Features Gained</td></tr>
                </thead>
                <tr><td>Centaur Lower Body</td><td>Gain 40 ft. speed, Hooves and Equine Build</td></tr>
                <tr><td>Minotaur Horns</td><td>Gain Horns, Goring Rush, Hammering Horns</td></tr>
                <tr><td>Tortle Shell</td><td>Natural Armor, Shell Defense</td></tr>
            </table>
        </description>
        <sheet>
            <description>You modify yourself to gain a racial ability of another race.</description>
        </sheet>
        <rules>
            <select type="Class Feature" name="Amalgamated Form" supports="Amalgamated Form" />
            <stat name="mutation:upgrade" value="1" />
        </rules>
    </element>

    <element name="Centaur Lower Body" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_AMALGAMATED_FORM_CENTAUR">
        <supports>Amalgamated Form</supports>
        <description>
            <p>Gain 40 ft. speed, Hooves and Equine Build</p>
        </description>
        <sheet>
            <description>You gain the lower body of a centaur.</description>
        </sheet>
        <rules>
            <grant type="Racial Trait" id="ID_WOTC_GGTR_RACIAL_TRAIT_CENTAUR_EQUINE_BUILD" />
            <grant type="Racial Trait" id="ID_WOTC_GGTR_RACIAL_TRAIT_CENTAUR_HOOVES" />
            <stat name="speed" value="40" bonus="base" />
        </rules>
    </element>
    <element name="Minotaur Horns" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_AMALGAMATED_FORM_MINOTAUR">
        <supports>Amalgamated Form</supports>
        <description>
            <p>Gain Horns, Goring Rush, Hammering Horns</p>
        </description>
        <sheet>
            <description>You gain the horns of a minotaur.</description>
        </sheet>
        <rules>
            <grant type="Racial Trait" id="ID_WOTC_GGTR_RACIAL_TRAIT_MINOTAUR_HORNS" />
			<grant type="Racial Trait" id="ID_WOTC_GGTR_RACIAL_TRAIT_MINOTAUR_GORING_RUSH" />
			<grant type="Racial Trait" id="ID_WOTC_GGTR_RACIAL_TRAIT_MINOTAUR_HAMMERING_HORNS" />
        </rules>
    </element>
    <element name="Tortle Shell" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_AMALGAMATED_FORM_TORTLE">
        <supports>Amalgamated Form</supports>
        <description>
            <p>Natural Armor, Shell Defense</p>
        </description>
        <sheet>
            <description>You gain the shell of a tortle.</description>
        </sheet>
        <rules>
            <grant type="Racial Trait" id="ID_WOTC_TOA_RACIAL_TRAIT_TORTLE_NATURAL_ARMOR" />
            <grant type="Racial Trait" id="ID_WOTC_TOA_RACIAL_TRAIT_TORTLE_SHELL_DEFENSE" />
        </rules>
    </element>

    <element name="Adaptive Response" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_ADAPTIVE_RESPONSE">
        <supports>Specialization Upgrade, Fleshsmith</supports>
        <prerequisite>15th level</prerequisite>
        <requirements>[level:15]</requirements>
        <description>
            <p><em>Prerequisite: 15th level</em></p>
            <p>You attain full mastery of your body and its functionality, able to detect when it malfunctions. As a reaction to failing a saving throw against becoming paralyzed, blinded, deafened, poisoned or infected by a disease as the result of failing a constitution saving throw, you can end the effect, even if you would normally not be able to take reactions due to the effect.</p>
            <p class="indent">Once you do this, you cannot do this again until you complete a short or long rest.</p>
        </description>
        <sheet>
            <description usage="1/Short rest" action="Reaction">As a reaction to failing a saving throw against becoming paralyzed, blinded, deafened, poisoned or infected by a disease as the result of failing a constitution saving throw, you can end the effect, even if you would normally not be able to take reactions due to the effect.</description>
        </sheet>
        <rules>
            <stat name="mutation:upgrade" value="1" />
        </rules>
    </element>

    <element name="Devouring Maw" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_DEVOURING_MAW">
        <supports>Specialization Upgrade, Fleshsmith</supports>
        <prerequisite>9th level</prerequisite>
        <requirements>[level:9]</requirements>
        <description>
            <p><em>Prerequisite: 9th level</em></p>
            <p>Due to the inefficiency of having only one intake port, you build an additional one, properly equipped with razor sharp fangs and a special property. This maw becomes a natural weapon that deals 1d10 piecing damage.</p>
            <p class="indent">If you hit with an attack with this maw, you can chose to make a Grapple check against the target as a bonus action. Targets grappled by this maw take 1d4 piercing and 1d4 acid damage at the start of their turn.</p>
            <p class="indent">Attacks with this Maw are made with advantage against targets it is Grappling, but it cannot attack other creatures while grappling a creature.</p>
            <p class="indent">You can take apply a Fleshcrafted Enhancement to this Maw instead of Extra Fangs when taking that upgrades; this Maw can have a different upgrade than your Extra Fangs if you have both.</p>
        </description>
        <sheet>
            <description>You build a second mouth. This maw becomes a natural weapon that deals 1d10 piecing damage. If you hit with an attack with this maw, you can chose to make a Grapple check against the target as a bonus action. Targets grappled by this maw take 1d4 piercing and 1d4 acid damage at the start of their turn. Attacks with this Maw are made with advantage against targets it is Grappling, but it cannot attack other creatures while grappling a creature. You can take apply a Fleshcrafted Enhancement to this Maw instead of Extra Fangs when taking that upgrades; this Maw can have a different upgrade than your Extra Fangs if you have both.</description>
        </sheet>
        <rules>
            <stat name="mutation:upgrade" value="1" />
        </rules>
    </element>

    <element name="Soul Eater" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_SOUL_EATER">
        <supports>Specialization Upgrade, Fleshsmith, Unrestricted</supports>
        <prerequisite>Extra Fangs or Devouring Maw</prerequisite>
        <requirements>(ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_DEVOURING_MAW|ID_KTH_INVENTOR_MUTATION_FLESHSMITH_EXTRA_FANGS)</requirements>
        <description>
            <p><em>Prerequisite: Extra Fangs or Devouring Maw</em></p>
            <p>When you kill a creature with a CR of 1/4 or higher with your Extra Fangs or Devouring Maw, it consumes part of the soul of the creature, nourishing you with its essence. You regain an expanded spell slot equal to half the creatures CR (minimum first level spell slot).</p>
            <p class="indent">Once you've benefited from this nourishment, you must take a short or long rest before you can benefit from it again. If you have no spell slots remaining, you can benefit from this nourishment again even without resting.</p>
        </description>
        <sheet>
            <description usage="1/Short rest">When you kill a creature with a CR of 1/4 or higher with your Extra Fangs or Devouring Maw, you regain an expanded spell slot equal to half the creatures CR (minimum first level spell slot). Once you've benefited from this nourishment, you must take a short or long rest before you can benefit from it again. If you have no spell slots remaining, you can benefit from this nourishment again even without resting.</description>
        </sheet>
    </element>

    <element name="Extra Quills" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_EXTRA_QUILLS">
        <supports>Specialization Upgrade, Fleshsmith, Unrestricted</supports>
        <description>
            <p>Do you know what monsters never eat? Hedgehogs. You become more like a hedgehog. When you are attacked by a melee attack or are the target of a grapple attempt, you can use your reaction to deal 1d6 piercing damage to the attacking creature. You can do this a number of times equal to your Constitution modifier, and regrow all expended quills (regaining all uses of the ability) after you complete a long rest.</p>
            <p class="indent">Alternatively, you as sometimes the best defense is a good offense, you can expend a use of quills as a ranged weapon attack with a range of 20/60, dealing 1d8 piercing damage on hit.</p>
        </description>
        <sheet>
            <description usage="{{constitution:modifier}}/Long rest" action="Reaction">When you are attacked by a melee attack or are the target of a grapple attempt, you can use your reaction to deal 1d6 piercing damage to the attacking creature. You can do this {{constitution:modifier}} times, regaining all uses of the ability after you complete a long rest.
            Alternatively, you as sometimes the best defense is a good offense, you can expend a use of quills as a ranged weapon attack with a range of 20/60, dealing 1d8 piercing damage on hit.</description>
        </sheet>
        <rules>
            <stat name="mutation:upgrade" value="1" />
        </rules>
    </element>

    <element name="Dogmatic Persistence" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_DOGMATIC_PERSISTENCE">
        <supports>Specialization Upgrade, Fleshsmith, Unrestricted</supports>
        <description>
            <p>Your idealogical conviction in your Thesis is such that you gain an additional 2 uses of it (for Perfection of Form) or an addition two d8s (for Perfection of Mind).</p>
        </description>
        <sheet>
            <description>You gain an additional 2 uses of your Thesis (for Perfection of Form) or an addition two d8s (for Perfection of Mind).</description>
        </sheet>
    </element>

    <element name="Prehensile Feet" type="Class Feature" source="KibblesTasty Inventor" id="ID_KTH_INVENTOR_UPGRADE_FLESHSMITH_PREHENSILE_FEET">
        <supports>Specialization Upgrade, Fleshsmith, Unrestricted</supports>
        <description>
            <p>You tinker with your appendages, improving their flexibility and configuration. You gain a climbing speed equal to your walking speed. If you are prone or otherwise supported without your feet, your foot can count as a free hand for the purposes of grappling.</p>
        </description>
        <sheet>
            <description>You gain a climbing speed equal to your walking speed. If you are prone or otherwise supported without your feet, your foot can count as a free hand for the purposes of grappling.</description>
        </sheet>
        <rules>
            <stat name="speed:climb" value="speed" bonus="base" />
            <stat name="mutation:upgrade" value="1" />
        </rules>
    </element>

    <!--FEATS-->

    <element name="Artificial Metamagic" type="Feat" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_FEAT_ARTIFICIAL_METAMAGIC">
        <requirements>ID_KIBBLESTASTY_CLASS_INVENTOR</requirements>
        <prerequisite>Inventor</prerequisite>
        <description>
            <p><em>Prerequisite: Inventor</em></p>
            <p>Magic is great and all, but what if it was... better? You modify an arcane focus in your position. Select a Metamagic Option from the Sorcerer's list of Metamagic options.</p>
            <p class="indent">The device has 2 charges. When you cast a spell using this arcane focus, you can use the devices charges to power applying the metamagic option to the spell cast as 1 charge per Sorcery point spent.</p>
            <p class="indent">The device regains all charges when you finish a short or long rest. As an action, you can expend a first level spell to recharge the Arcane Focus to use it again before completing a rest.</p>
        </description>
        <sheet>
            <description usage="2/Short Rest">You modify an arcane focus in your position. Select a Metamagic Option from the Sorcerer's list of Metamagic options. The device has 2 charges. When you cast a spell using this arcane focus, you can use the devices charges to power applying the metamagic option to the spell cast as 1 charge per Sorcery point spent. The device regains all charges when you finish a short or long rest. As an action, you can expend a first level spell to recharge the Arcane Focus to use it again before completing a rest.</description>
        </sheet>
        <rules>
            <select type="Class Feature" name="Artificial Metamagic" supports="Metamagic" />
        </rules>
    </element>

    <element name="Warforged Customization" type="Feat" source="KibblesTasty Inventor" id="ID_KIBBLESTASTY_INVENTOR_FEAT_WARFORGED_CUSTOMIZATION">
        <requirements>ID_WOTC_ERLW_RACE_WARFORGED</requirements>
        <prerequisite>Warforged</prerequisite>
        <description>
            <p><em>Prerequisite: Warforged</em></p>
            <p>Other people have to exercise to improve their bodies. You've found that yours is just upgradeable.</p>
            <p class="indent">You can select an upgrade from the Golemsmith or Warsmith upgrade lists, and apply it to yourself as if you were the golem or warplate. This upgrade cannot be a level restricted upgrade.</p>
        </description>
        <sheet>
            <description>You can select an upgrade from the Golemsmith or Warsmith upgrade lists, and apply it to yourself as if you were the golem or warplate. This upgrade cannot be a level restricted upgrade.</description>
        </sheet>
        <rules>
            <select type="Class Feature" name="Warforged Customization" supports="Unrestricted, Specialization Upgrade, Warsmith" />
            <stat name="warsmith:warplate" value="1" />
        </rules>
    </element>

</elements>